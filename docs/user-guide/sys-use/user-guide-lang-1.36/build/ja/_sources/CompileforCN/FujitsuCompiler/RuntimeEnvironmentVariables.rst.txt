実行時環境変数
======================

Fortran／C／C++プログラムにおいて、実行時に指定可能な主な環境変数について説明します。
ここで説明する環境変数は、LLVM OpenMPライブラリ（-Nlibompオプション）使用時と富士通OpenMPライブラリ（-Nfjomplibオプション）使用時で異なります。

詳細はマニュアル「Fortran使用手引書」、「C言語使用手引書」、「C++言語使用手引書」を参照ください。


.. list-table:: LLVM OpenMPライブラリ（-Nlibompオプション）使用時
   :header-rows: 1
   :widths: 3,9

   * - 環境変数
     - 説明

   * - OMP_NUM_THREADS
     - | 並列に動作させるスレッド数を指定することができます。
       | 省略時は、ジョブが利用可能なコア数（1ノード1プロセスの場合48）が使用されます。

   * - OMP_STACKSIZE
     - スレッド毎のスタック領域の大きさをバイト、Kバイト、Mバイト、Gバイト、Tバイト単位で指定することができます。
       デフォルト値は8Mバイトです。

.. list-table:: 富士通OpenMPライブラリ（-Nfjomplibオプション）使用時
   :header-rows: 1
   :widths: 3,9

   * - 環境変数
     - 説明

   * - PARALLEL
     - | 並列に動作させるスレッド数を指定することができます。
       | 省略時は、ジョブが利用可能なコア数（1ノード1プロセスの場合48）が使用されます。

       | 環境変数FLIB_FASTOMPにTRUEが設定されている（デフォルト）場合、環境変数OMP_NUM_THREADSに指定値があれば、その値と環境変数PARALLELの指定値は一致していなければなりません。
       | 一致していない場合には、スレッド数には小さい方の値が採用されます。この時、jwe1042i-wのメッセージが出力されます。

   * - OMP_NUM_THREADS
     - | 並列に動作させるスレッド数を指定することができます。
       | 省略時は、ジョブが利用可能なコア数（1ノード1プロセスの場合48）が使用されます。

   * - THREAD_STACK_SIZE
     - | スレッドごとのスタック領域の大きさをKバイト単位で指定することができます。
       | 環境変数OMP_STACKSIZEが指定されている場合、大きい方の指定値がスレッドごとのスタック領域の大きさの値になります。

   * - OMP_STACKSIZE
     - | スレッドごとのスタック領域の大きさをバイト、Kバイト、Mバイト、Gバイト単位で指定することができます。
       | 環境変数THREAD_STACK_SIZEが指定されている場合、大きい方の指定値がスレッドごとのスタック領域の大きさの値になります。

