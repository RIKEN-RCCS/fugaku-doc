
<!DOCTYPE html>

<html lang="ja" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Spackとは &#8212; 富岳Spack利用ガイド  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d75fae25" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css?v=5283bb3d" />
    
    <script src="_static/documentation_options.js?v=c033477b"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=4755f45a"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="search" title="検索" href="search.html" />
    <link rel="prev" title="富岳 Spack 利用ガイド" href="index.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="index.html" title="富岳 Spack 利用ガイド"
             accesskey="P">前へ</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">富岳Spack利用ガイド  ドキュメント</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>Spackとは</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="spack">
<h1><span class="section-number">1. </span>Spackとは<a class="headerlink" href="#spack" title="Link to this heading">¶</a></h1>
<ul>
<li><p>Spackは主にスーパーコンピュータ向けのパッケージ管理ツールです。詳細は公式ページ <a class="reference external" href="https://spack.io/">https://spack.io/</a> をご覧ください。</p></li>
<li><p>スーパーコンピュータ「富岳」ではSpackを用いてオープンソースソフトウェア（OSS）を管理、提供します。</p></li>
<li><p>利用頻度の高いOSSについては、システム側でSpackインスタンスを用意してビルド済みのOSSを提供します。この部分を「パブリック・インスタンス」と呼びます。</p></li>
<li><p>各ユーザがホームディレクトリ以下にSpackインスタンスを保持し各自でOSSをビルドして利用することもできます。この部分を「プライベート・インスタンス」と呼びます。</p></li>
<li><p>プライベート・インスタンスを利用の際にも、「チェイニング」の機能を用いることでパブリック・インスタンスで提供されるビルド済みOSSを参照・利用可能です。この機能を用いることで、依存関係のために多数のOSSをビルドする負荷を軽減することができます。</p></li>
<li><p>Spackは単一のインスタンスで複数の環境を混合して利用することができます。典型的には同一パッケージに対して</p>
<ul class="simple">
<li><p>ログインノードのx86向けのビルド（GCC）</p></li>
<li><p>計算ノードのA64FX向けのビルド（富士通コンパイラ）</p></li>
</ul>
<p>が共存できます。</p>
</li>
</ul>
</section>
<section id="id1">
<h1><span class="section-number">2. </span>パブリック・インスタンスの利用<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#setup" id="id15">環境の読み込み</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id16">ビルド済みパッケージの確認</a></p></li>
<li><p><a class="reference internal" href="#oss" id="id17">OSSのロード</a></p></li>
</ul>
</nav>
<p>システム側でビルド済みのOSSを利用する場合、環境の読み込みのみで利用可能です。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ジョブでパブリック・インスタンスを利用する場合には、環境変数 <code class="docutils literal notranslate"><span class="pre">PJM_LLIO_GFSCACHE</span></code> に <code class="docutils literal notranslate"><span class="pre">/vol0004</span></code> を指定する必要があります。詳しくは、「利用手引書 －利用およびジョブ実行編－」の「<a class="reference external" href="https://www.fugaku.r-ccs.riken.jp/doc_root/ja/user_guides/use_latest/LayeredStorageAndLLIO/SelectAvailableVolumes.html">8.8. 利用ファイルシステム(volume)の選択</a>」 をご参照ください。</p>
</div>
<section id="setup">
<span id="id3"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">2.1. </span>環境の読み込み</a><a class="headerlink" href="#setup" title="Link to this heading">¶</a></h2>
<p>コマンドラインで以下のようにすることでSpackが利用可能になります。
<code class="docutils literal notranslate"><span class="pre">bash</span></code> の場合：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>.<span class="w"> </span>/vol0004/apps/oss/spack/share/spack/setup-env.sh
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">csh</span></code>/<code class="docutils literal notranslate"><span class="pre">tcsh</span></code> の場合：</p>
<div class="highlight-csh notranslate"><div class="highlight"><pre><span></span><span class="nv">$ </span><span class="nb">setenv </span>SPACK_ROOT /vol0004/apps/oss/spack
<span class="nv">$ </span><span class="nb">source</span> /vol0004/apps/oss/spack/share/spack/setup-env.csh
</pre></div>
</div>
<p>バッチ型ジョブで利用する場合はジョブスクリプトにも同様の記述をしてください。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<ul>
<li><p>ログインシェルの <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> 等にこの記述をすると、ファイルシステムにトラブルがあったとき最悪ログインすらできなくなるおそれがあるため現時点ではお勧めできません。</p></li>
<li><p>Spackは、環境変数 <code class="docutils literal notranslate"><span class="pre">TMPDIR</span></code> に指定されたディレクトリに、各種の作業ファイルを配置します。2025年10月17日現在、デフォルトの状態で <code class="docutils literal notranslate"><span class="pre">TMPDIR</span></code> はホームディレクトリに指定されているため、Spackを利用する際に「Disk quota exceeded」のエラーが発生する可能性があります。そのような場合には、以下のページに記載されている通り <code class="docutils literal notranslate"><span class="pre">TMPDIR</span></code> を指定してください。</p>
<p><a class="reference external" href="https://www.fugaku.r-ccs.riken.jp/operation/20220408_01">https://www.fugaku.r-ccs.riken.jp/operation/20220408_01</a></p>
</li>
</ul>
</div>
</section>
<section id="id4">
<h2><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">2.2. </span>ビルド済みパッケージの確認</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<p>コマンドラインで</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ spack find -x
</pre></div>
</div>
<p>とすることで利用可能なOSSの一覧が得られます。 2025-10-17現在では以下のようになっています：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="w"> </span>login4$<span class="w"> </span>spack<span class="w"> </span>find<span class="w"> </span>-x

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c,cxx,fortran<span class="o">=</span>fj@4.12.0<span class="w"> </span>-----------------
adios2@2.9.2
adios2@2.9.2
adios2@2.10.2
adios2@2.10.2
adios2@2.10.2
adios2@2.10.2
blitz@1.0.2
cosma@2.6.6
cp2k@2025.2
cp2k@2025.2
elpa@2023.05.001
elpa@2023.05.001
ffb@9.0
ffx@03.01
fugaku-frontistr@master
hdf5@1.14.6
kim-api@2.2.1
lammps@20220623.2
lammps@20230802.3
lammps@20230802.4
lammps@20230802.4
lammps@20240829.2
lammps@20250722.1
lammps@20250722.1
libint@2.6.0
lis@2.1.7
mptensor@0.3.0
mvmc@1.3.0
openblas@0.3.30
parallel-netcdf@1.14.0
paraview@5.13.3
petsc@3.23.4
pfapack@2014-09-17
plumed@2.9.0
py-scipy@1.8.1
spglib@2.5.0
suite-sparse@7.8.3

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>fj@4.12.0<span class="w"> </span>-------------------------
alamode@1.5.0
bcftools@1.21
bedtools2@2.31.1
boost@1.88.0
cbc@2.10.11
cmake@3.31.8
eigen@3.4.0
ffmpeg@6.1.1
gmp@6.3.0
gromacs@2023.5
gromacs@2024.5
gromacs@2024.6
gromacs@2025.3
htslib@1.21
improved-rdock@main
libint@2.6.0
llvm@16.0.6
mapsplice2@2.2.1
mesa@25.0.5
netcdf-cxx@4.2
netcdf-cxx4@4.3.1
onednn@3.0
openbabel@3.1.1
openfoam@2412
openfoam-org@12
openjdk@17.0.11_9
parmetis@4.0.3
povray@3.7.0.10
py-matplotlib@3.10.3
py-numpy@1.26.4
py-numpy@2.2.6
py-pandas@2.3.1
py-pyarrow@16.1.0
py-pymol@2.5.0
py-scikit-learn@1.7.0
python@3.13.5
qt@5.15.16
raja@2025.03.0
rust@1.85.0
samtools@1.19.2
star@2.7.11b

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>gcc@15.1.0<span class="w"> </span>------------------------
llvm@20.1.6

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>gcc@8.5.0<span class="w"> </span>-------------------------
ffmpeg@7.1
gcc@13.4.0
gcc@14.3.0
gcc@15.1.0
llvm@17.0.6
llvm@18.1.8
llvm@19.1.7
llvm@20.1.6

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c,fortran<span class="o">=</span>fj@4.12.0<span class="w"> </span>---------------------
cblas@2015-06-06
eigenexa@2.6
ermod@0.3.6
fujitsu-fftw@1.1.0
hphi@3.5.1
libxc@7.0.0
netcdf-fortran@4.6.1
netlib-scalapack@2.2.2
openmx@3.9.9
phase0@2024.01
phase0@2024.01
quantum-espresso@7.3.1
quantum-espresso@7.4.1
salmon-tddft@2.2.1

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c<span class="o">=</span>fj@4.12.0<span class="w"> </span>-----------------------------
batchedblas@1.0
bwa@0.7.17
darshan-runtime@3.4.0
grads@2.2.3
gsl@2.8
hdf5@1.14.6
netcdf-c@4.9.2
py-cftime@1.6.4
py-h5py@3.13.0
py-mpi4py@4.0.1
py-netcdf4@1.7.2
py-pysam@0.21.0
py-spglib@2.0.2
screen@4.9.1
tmux@3.5a

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%c<span class="o">=</span>gcc@8.5.0<span class="w"> </span>-----------------------------
nano@8.0

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%cxx<span class="o">=</span>fj@4.12.0<span class="w"> </span>---------------------------
biobambam2@2.0.177
dssp@3.1.4

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>%fortran<span class="o">=</span>fj@4.12.0<span class="w"> </span>-----------------------
akaikkr@2021v02
fds@6.9.1
ffx@03.01
modylas-new@1.1.0
modylas-new@1.1.0
modylas-new@1.1.0
smash@3.0.2
zpares@0.9.6a

--<span class="w"> </span>linux-rhel8-a64fx<span class="w"> </span>/<span class="w"> </span>no<span class="w"> </span>compilers<span class="w"> </span>-----------------------------
ffvhc-ace@0.1
fujitsu-mpi@4.12.0
fujitsu-ssl2@head
hwloc@2.2.0
picard@3.3.0
py-ase@3.23.0
py-dask@2024.7.1
py-hypothesis@6.96.2
py-ipykernel@6.29.5
py-pip@25.1.1
py-pydmd@0.3
py-pygps@1.3.5
py-pytest@8.2.1
py-pytoml@0.1.21
py-seaborn@0.13.2
py-toml@0.10.2
py-xarray@2024.7.0
rist-fftw@3.3.9-272-g63d6bd70

--<span class="w"> </span>linux-rhel8-cascadelake<span class="w"> </span>/<span class="w"> </span>%c,cxx,fortran<span class="o">=</span>gcc@15.1.0<span class="w"> </span>----------
darshan-util@3.4.0-pre1

--<span class="w"> </span>linux-rhel8-cascadelake<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>gcc@14.3.0<span class="w"> </span>------------------
gcc@15.1.0
openfoam@2412

--<span class="w"> </span>linux-rhel8-cascadelake<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>gcc@15.1.0<span class="w"> </span>------------------
boost@1.88.0
cmake@3.31.8
gnuplot@6.0.0
imagemagick@7.1.1-39
mercurial@6.7.3
openfoam@2412
openjdk@17.0.11_9
python@3.13.5

--<span class="w"> </span>linux-rhel8-cascadelake<span class="w"> </span>/<span class="w"> </span>%c,fortran<span class="o">=</span>gcc@15.1.0<span class="w"> </span>--------------
netcdf-fortran@4.6.1

--<span class="w"> </span>linux-rhel8-cascadelake<span class="w"> </span>/<span class="w"> </span>%c<span class="o">=</span>gcc@15.1.0<span class="w"> </span>----------------------
hdf5@1.14.6
libxml2@2.13.5
netcdf-c@4.9.2
tmux@3.5a

--<span class="w"> </span>linux-rhel8-cascadelake<span class="w"> </span>/<span class="w"> </span>no<span class="w"> </span>compilers<span class="w"> </span>-----------------------
global@6.6.14
py-pip@25.1.1

--<span class="w"> </span>linux-rhel8-skylake_avx512<span class="w"> </span>/<span class="w"> </span>%c,cxx,fortran<span class="o">=</span>gcc@15.1.0<span class="w"> </span>-------
adios2@2.9.2

--<span class="w"> </span>linux-rhel8-skylake_avx512<span class="w"> </span>/<span class="w"> </span>%c,cxx,fortran<span class="o">=</span>gcc@8.5.0<span class="w"> </span>--------
adios2@2.9.2
py-scipy@1.11.3

--<span class="w"> </span>linux-rhel8-skylake_avx512<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>gcc@15.1.0<span class="w"> </span>---------------
openfoam-org@12

--<span class="w"> </span>linux-rhel8-skylake_avx512<span class="w"> </span>/<span class="w"> </span>%c,cxx<span class="o">=</span>gcc@8.5.0<span class="w"> </span>----------------
gcc@14.3.0
gcc@15.1.0

--<span class="w"> </span>linux-rhel8-skylake_avx512<span class="w"> </span>/<span class="w"> </span>%c<span class="o">=</span>gcc@8.5.0<span class="w"> </span>--------------------
hdf5@1.12.2
nano@8.0
py-mpi4py@3.1.4

--<span class="w"> </span>linux-rhel8-skylake_avx512<span class="w"> </span>/<span class="w"> </span>no<span class="w"> </span>compilers<span class="w"> </span>--------------------
py-phonopy@2.27.0
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">173</span><span class="w"> </span>installed<span class="w"> </span>packages
</pre></div>
</div>
<p>ここでは <code class="docutils literal notranslate"><span class="pre">-x</span></code> オプションにより明示的にインストールされたパッケージのみを表示していますが、実際にはこれらが依存する多数のパッケージもインストールされています。
<code class="docutils literal notranslate"><span class="pre">linux-rhel8-cascadelake</span></code> または <code class="docutils literal notranslate"><span class="pre">linux-rhel8-skylake_avx512</span></code> がログインノード用、 <code class="docutils literal notranslate"><span class="pre">linux-rhel8-a64fx</span></code> が計算ノード用にビルドされたOSSであることをを示しています。</p>
</section>
<section id="oss">
<h2><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">2.3. </span>OSSのロード</a><a class="headerlink" href="#oss" title="Link to this heading">¶</a></h2>
<p>例えばtmuxを利用可能にしたい場合：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ spack load tmux
</pre></div>
</div>
<p>とすることで、必要な設定（環境変数 <code class="docutils literal notranslate"><span class="pre">PATH</span></code> など）が行われて利用可能になります。</p>
<p>同様に</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ spack unload tmux
</pre></div>
</div>
<p>でアンロードできます。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>以下のように、<code class="docutils literal notranslate"><span class="pre">module</span></code> コマンドを利用してOSSをロード、アンロードすることもできます。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ module load tmux
$ module unload tmux
</pre></div>
</div>
</div>
</section>
</section>
<section id="id5">
<h1><span class="section-number">3. </span>プライベート・インスタンスの利用<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="id6">
<ul class="simple">
<li><p><a class="reference internal" href="#id7" id="id18">リポジトリのクローン</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id19">パブリック・インスタンス提供パッケージの利用</a></p></li>
<li><p><a class="reference internal" href="#id9" id="id20">外部パッケージの登録</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id21">環境の読み込み</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id22">パッケージのインストールと管理</a></p></li>
<li><p><a class="reference internal" href="#sec-multiple-package" id="id23">同一名複数パッケージの区別</a></p></li>
</ul>
</nav>
<p><strong>これ以降の内容は、自身でOSSをビルドするユーザにのみ必要とされる作業であり、システム側で提供するビルド済みOSSを利用するだけのユーザは行う必要がありません。</strong></p>
<p>各々のユーザのホームディレクトリ等にSpackインスタンスを保持し、ユーザがOSSをビルドして利用することができます。</p>
<section id="id7">
<h2><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">3.1. </span>リポジトリのクローン</a><a class="headerlink" href="#id7" title="Link to this heading">¶</a></h2>
<p>簡単のため <code class="docutils literal notranslate"><span class="pre">$TMPDIR</span></code> へインストールする方法を説明しますが (環境変数 <code class="docutils literal notranslate"><span class="pre">TMPDIR</span></code> の設定については、<a class="reference internal" href="#setup"><span class="std std-ref">環境の読み込み</span></a> の章の注釈を参照)、インストール先のディレクトリは任意です。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span><span class="nv">$TMPDIR</span>
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/RIKEN-RCCS/spack.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>spack
$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>fugaku-v1.0.1
</pre></div>
</div>
<p>クローンしてきた直後ではデフォルトのdevelopブランチですが、ここではfugaku-v1.0.1ブランチへと切り替えています。</p>
</section>
<section id="id8">
<h2><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">3.2. </span>パブリック・インスタンス提供パッケージの利用</a><a class="headerlink" href="#id8" title="Link to this heading">¶</a></h2>
<p>ログインノードで一度環境を読み込みます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>.<span class="w"> </span><span class="nv">$TMPDIR</span>/spack/share/spack/setup-env.sh
</pre></div>
</div>
<p>Spackで提供される「チェイニング」の機能を用いることで、別のインスタンスにインストール済みのパッケージを利用することができます。ここで紹介する手順では、パブリック・インスタンスをアップストリームとして設定することで各々のプライベート・インスタンスから前者でインストール済みのパッケージを利用する設定を行います。 この機能を利用するには、 テキストファイル <code class="docutils literal notranslate"><span class="pre">~/.spack/upstreams.yaml</span></code> を以下の内容で作成してください：</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">upstreams</span><span class="p">:</span>
<span class="w">  </span><span class="nt">spack-public-instance</span><span class="p">:</span>
<span class="w">    </span><span class="nt">install_tree</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/vol0004/apps/oss/spack/opt/spack</span>
</pre></div>
</div>
<p>この後</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>compilers
</pre></div>
</div>
<p>としたとき、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">==</span>&gt;<span class="w"> </span>Available<span class="w"> </span>compilers
--<span class="w"> </span>fj<span class="w"> </span>rhel8-x86_64<span class="w"> </span>----------------------------------------------
<span class="o">[</span>e<span class="o">]</span><span class="w">  </span>fj@4.12.1<span class="w">  </span><span class="o">[</span>e<span class="o">]</span><span class="w">  </span>fj@4.12.0<span class="w">  </span><span class="o">[</span>e<span class="o">]</span><span class="w">  </span>fj@4.11.2<span class="w">  </span><span class="o">[</span>e<span class="o">]</span><span class="w">  </span>fj@4.11.1<span class="w">  </span><span class="o">[</span>e<span class="o">]</span><span class="w">  </span>fj@4.10.0

--<span class="w"> </span>gcc<span class="w"> </span>rhel8-aarch64<span class="w"> </span>--------------------------------------------
<span class="o">[</span>^<span class="o">]</span><span class="w">  </span>gcc@15.1.0<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>gcc@14.3.0<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>gcc@13.4.0

--<span class="w"> </span>gcc<span class="w"> </span>rhel8-x86_64<span class="w"> </span>---------------------------------------------
<span class="o">[</span>e<span class="o">]</span><span class="w">  </span>gcc@8.5.0<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>gcc@15.1.0<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>gcc@14.3.0

--<span class="w"> </span>llvm<span class="w"> </span>rhel8-aarch64<span class="w"> </span>-------------------------------------------
<span class="o">[</span>^<span class="o">]</span><span class="w">  </span>llvm@20.1.6<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>llvm@19.1.7<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>llvm@18.1.8<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>llvm@17.0.6<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>llvm@16.0.6<span class="w">  </span><span class="o">[</span>^<span class="o">]</span><span class="w">  </span>llvm@14.0.6
</pre></div>
</div>
<p>のような出力があればコンパイラの設定は成功です。</p>
<p>さらに、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>/vol0004/apps/oss/spack/var/spack/fugaku-packages/repos/spack_repo/fugaku/local
$<span class="w"> </span>spack<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>/vol0004/apps/oss/spack/var/spack/fugaku-packages/repos/spack_repo/fugaku/update
$<span class="w"> </span>spack<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>/vol0004/apps/oss/spack/var/spack/fugaku-packages/repos/spack_repo/fugaku/rist
$<span class="w"> </span>spack<span class="w"> </span>repo<span class="w"> </span>add<span class="w"> </span>/vol0004/apps/oss/spack/var/spack/fugaku-packages/repos/spack_repo/fugaku/rccs
</pre></div>
</div>
<p>として、ローカル・リポジトリを追加しておきます。</p>
<p>設定が完了したら、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>find
</pre></div>
</div>
<p>としてパブリック・インスタンス提供のパッケージが見えることを確認してください。</p>
</section>
<section id="id9">
<h2><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">3.3. </span>外部パッケージの登録</a><a class="headerlink" href="#id9" title="Link to this heading">¶</a></h2>
<p>富士通MPIを始めとする外部パッケージを利用するために、システム側から設定ファイルをコピーしてください。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>cp<span class="w"> </span>/vol0004/apps/oss/spack/etc/spack/packages.yaml<span class="w"> </span>~/.spack/
</pre></div>
</div>
</section>
<section id="id10">
<h2><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">3.4. </span>環境の読み込み</a><a class="headerlink" href="#id10" title="Link to this heading">¶</a></h2>
<p>ログイン後コマンドラインで以下のようにすることでSpackが利用可能になります。</p>
<p>bashの場合：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>.<span class="w"> </span><span class="nv">$TMPDIR</span>/spack/share/spack/setup-env.sh
</pre></div>
</div>
<p>csh/tcshの場合：</p>
<div class="highlight-csh notranslate"><div class="highlight"><pre><span></span><span class="nv">$ </span><span class="nb">setenv </span>SPACK_ROOT <span class="nv">$TMPDIR</span>/spack
<span class="nv">$ </span><span class="nb">source</span> <span class="nv">$TMPDIR</span>/spack/share/spack/setup-env.csh
</pre></div>
</div>
</section>
<section id="id11">
<h2><a class="toc-backref" href="#id22" role="doc-backlink"><span class="section-number">3.5. </span>パッケージのインストールと管理</a><a class="headerlink" href="#id11" title="Link to this heading">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>list
</pre></div>
</div>
<p>とすることで入手可能な全てのパッケージが表示されます。このままでは7000以上のパッケージが表示されてしまいますが、文字列による絞り込みができます（大文字小文字は区別しない）。例えば、、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>list<span class="w"> </span>mpi
</pre></div>
</div>
<p>とすると、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>armcimpi<span class="w">                        </span>mpi-sync-clocks<span class="w">  </span>mpix-launch-swift<span class="w">               </span>py-mpi4py
compiler-wrapper<span class="w">                </span>mpi-test-suite<span class="w">   </span>msmpi<span class="w">                           </span>py-pytest-mpi
compiz<span class="w">                          </span>mpibenchmark<span class="w">     </span>openmpi<span class="w">                         </span>py-tempita
cray-mpich<span class="w">                      </span>mpibind<span class="w">          </span>pbmpi<span class="w">                           </span>r-rmpi
exempi<span class="w">                          </span>mpich<span class="w">            </span>pdiplugin-mpi<span class="w">                   </span>rempi
fujitsu-mpi<span class="w">                     </span>mpidiff<span class="w">          </span>perl-apache-logformat-compiler<span class="w">  </span>rkt-compiler-lib
hpcx-mpi<span class="w">                        </span>mpifileutils<span class="w">     </span>perl-params-validationcompiler<span class="w">  </span>spectrum-mpi
intel-mpi-benchmarks<span class="w">            </span>mpigraph<span class="w">         </span>perl-posix-strftime-compiler<span class="w">    </span>spiral-package-mpi
intel-oneapi-compilers<span class="w">          </span>mpilander<span class="w">        </span>phylobayesmpi<span class="w">                   </span>sst-dumpi
intel-oneapi-compilers-classic<span class="w">  </span>mpileaks<span class="w">         </span>pnmpi<span class="w">                           </span>tiny-tensor-compiler
intel-oneapi-mpi<span class="w">                </span>mpip<span class="w">             </span>py-dask-mpi<span class="w">                     </span>umpire
mpi-bash<span class="w">                        </span>mpir<span class="w">             </span>py-fluidfft-fftwmpi<span class="w">             </span>vampirtrace
mpi-rockstar<span class="w">                    </span>mpitrampoline<span class="w">    </span>py-fluidfft-mpi-with-fftw<span class="w">       </span>wi4mpi
mpi-serial<span class="w">                      </span>mpiwrapper<span class="w">       </span>py-mpi4jax
<span class="o">==</span>&gt;<span class="w"> </span><span class="m">55</span><span class="w"> </span>packages
</pre></div>
</div>
<p>のような出力が得られます。ここから例えば <code class="docutils literal notranslate"><span class="pre">openmpi</span></code> をインストールするには、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>install<span class="w"> </span>openmpi
</pre></div>
</div>
<p>とします。ここで <code class="docutils literal notranslate"><span class="pre">openmpi&#64;4.1.1</span></code> のようにバージョンを明記することもできます。利用可能なバージョンやバリアント（ここでは説明は割愛します）を調べるには、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>info<span class="w"> </span>openmpi
</pre></div>
</div>
<p>としてください。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>計算ノード用にパッケージをインストールするには会話型ジョブで計算ノードにログインして作業を行うか、インストール用のジョブスクリプトを投入する必要があります。</p>
</div>
<p>同様にアンインストールは</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>uninstall<span class="w"> </span>openmpi
</pre></div>
</div>
<p>同一名のパッケージが複数存在する場合、Spackがパッケージを解決できずにエラーとなります。このエラーを避ける
には <a class="reference internal" href="#sec-multiple-package"><span class="std std-ref">同一名複数パッケージの区別</span></a> を参照してください。</p>
</section>
<section id="sec-multiple-package">
<span id="id12"></span><h2><a class="toc-backref" href="#id23" role="doc-backlink"><span class="section-number">3.6. </span>同一名複数パッケージの区別</a><a class="headerlink" href="#sec-multiple-package" title="Link to this heading">¶</a></h2>
<p>しばしばひとつのインスタンス内もしくはチェイニングされたインスタンス間で同一名のパッケージが存在することがあります。複数のバージョンが同時にインストールされている場合、あるいは同一バージョンであってもログインノード向けのビルドと計算ノード向けのビルドがインストールされているケースがなどが考えられます。そのような場合、パッケージ名だけを指定して <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">load</span></code> を実行するだけでは、Spackはどのパッケージをロードするべきかを決められないため、エラーになります。</p>
<p>例えばパブリック・インスタンスで</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>screen
</pre></div>
</div>
<p>とすると</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">==</span>&gt;<span class="w"> </span>Error:<span class="w"> </span>screen<span class="w"> </span>matches<span class="w"> </span>multiple<span class="w"> </span>packages.
<span class="w">  </span>Matching<span class="w"> </span>packages:
<span class="w">    </span>e754igt<span class="w"> </span>screen@4.9.1<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>linux-rhel8-a64fx<span class="w"> </span>%fj@4.12.0
<span class="w">    </span>rkrpm6l<span class="w"> </span>screen@4.9.1<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>linux-rhel8-cascadelake<span class="w"> </span>%gcc@15.1.0
<span class="w">  </span>Use<span class="w"> </span>a<span class="w"> </span>more<span class="w"> </span>specific<span class="w"> </span>spec<span class="w"> </span><span class="o">(</span>e.g.,<span class="w"> </span>prepend<span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span><span class="nb">hash</span><span class="o">)</span>.
</pre></div>
</div>
<p>のようなエラーとなります。同様の情報は</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>spack<span class="w"> </span>find<span class="w"> </span>-lv<span class="w"> </span>screen
</pre></div>
</div>
<p>のようにしても得られます。以下、より詳細にパッケージ指定する方法をいくつか紹介していきます。</p>
<ul>
<li><p>ハッシュ値での指定：Spackではパッケージ名に詳細なビルド条件を付記した <code class="docutils literal notranslate"><span class="pre">spec</span></code> に対して一意にハッシュ値が定まるようになっています。 <code class="docutils literal notranslate"><span class="pre">/</span></code> （スラッシュ）以降に短縮ハッシュ値の7文字を書くことで、明示的に指定することができます。これまでの例と同様に</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>/e754igt
$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>/rkrpm6l
</pre></div>
</div>
<p>のように指定できます。パブリック・インスタンスに同一名複数パッケージが存在する場合（例えば <code class="docutils literal notranslate"><span class="pre">fftw</span></code> 、依存するパッケージの違いによっても同一名複数パッケージが発生する場合があります）は、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>find<span class="w"> </span>-lx
</pre></div>
</div>
<p>で出てきたほうのパッケージをロードするようにしてください。（ <code class="docutils literal notranslate"><span class="pre">-l</span></code> は7文字の短縮ハッシュ値を表示するオプション、 <code class="docutils literal notranslate"><span class="pre">-x</span></code> はexplicitにインストールされたパッケージのみを表示するオプションです。）</p>
</li>
<li><p>バージョン番号での指定：パッケージ名の後に <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> （アットマーク）を付け以降にバージョン場号を指定します。たとえば：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>screen@4.9.1
</pre></div>
</div>
<p>（ただし今回の例では同様のエラーとなります。）</p>
</li>
<li><p>ビルドしたコンパイラでの指定：パッケージ名の後に <code class="docutils literal notranslate"><span class="pre">%</span></code> （パーセント）を付け以降にビルドしたコンパイラを指定します。ログインノード向けの <code class="docutils literal notranslate"><span class="pre">screen</span></code> が <code class="docutils literal notranslate"><span class="pre">gcc</span></code> でコンパイルされていて計算ノード向けには富士通コンパイラ (<code class="docutils literal notranslate"><span class="pre">fj</span></code>) であるとき、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>screen%gcc
$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>screen%fj
</pre></div>
</div>
<p>のように区別が可能です。 更に詳細に <code class="docutils literal notranslate"><span class="pre">screen%gcc&#64;15.1.0</span></code> や <code class="docutils literal notranslate"><span class="pre">screen%fj&#64;4.12.0</span></code> のような記述も可能です。</p>
</li>
<li><p>アーキテクチャでの指定：パッケージ名の後に <code class="docutils literal notranslate"><span class="pre">arch=</span></code> でビルド時のターゲットアーキテクチャを指定できます。ログインノードと計算ノードに対してそれぞれ</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>screen<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>linux-rhel8-cascadelake
$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>screen<span class="w"> </span><span class="nv">arch</span><span class="o">=</span>linux-rhel8-a64fx
</pre></div>
</div>
<p>のようになります。</p>
</li>
</ul>
</section>
</section>
<section id="id13">
<h1><span class="section-number">4. </span>既知の問題と対処<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h1>
<section id="os">
<h2><span class="section-number">4.1. </span>OS標準の動的ライブラリパスが上書きされる問題<a class="headerlink" href="#os" title="Link to this heading">¶</a></h2>
<p>Spackで何らかのパッケージをロードした後、プログラム実行時に</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[WARN] xos LPG 2002 - Failed to map HugeTLBfs for data/bss: /usr/bin/file
The e_type of elf header must be ET_EXEC when using libmpg. You can
check it on your load module by readelf -h command.
[WARN] xos LPG 2003 - Failed to map HugeTLBfs for data/bss: Layout
problem with segments 0 and 1:
</pre></div>
</div>
<p>という警告が出力されたり、</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>libmpg BUG!! mpiexec: __mpg_resolve_libc_symbol[776]: Assertion
`__libc_calloc_fp != ((void *)0)&#39; failed.
</pre></div>
</div>
<p>というエラーが発生する場合があります（前者の警告は無害ですので、無視できます）。また、ログインノードにおいても、一部のアプリケーション（e.g. emacs）の実行時にエラーが発生する場合があります。これらは、 <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">load</span></code> でパッケージを読み込んだ後に以下のように環境変数 <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> を再設定することで抑止できます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span>/lib64:<span class="nv">$LD_LIBRARY_PATH</span>
</pre></div>
</div>
</section>
<section id="id14">
<h2><span class="section-number">4.2. </span>マルチノードジョブにおける性能劣化<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h2>
<p>Spackで提供するパッケージは第2階層ストレージ上に存在するため、マルチノードジョブからそれらを利用する場合、特定のストレージI/Oノードにアクセスが集中し、性能劣化を引き起こす可能性があります。</p>
<p>そのような場合には、 必要なすべてのパッケージをロードした後で、 <code class="docutils literal notranslate"><span class="pre">LD_LIBRARY_PATH</span></code> と <code class="docutils literal notranslate"><span class="pre">PATH</span></code> に設定されたパスに対して <code class="docutils literal notranslate"><span class="pre">dir_transfer</span></code> コマンドを実行すれば、参照される可能性のある共有ライブラリと実行ファイルを、第1階層ストレージ上の第2階層ストレージのキャッシュ領域へ配布することができます。これにより、アクセス集中による性能劣化を避けることができます。</p>
<p><code class="docutils literal notranslate"><span class="pre">dir_transfer</span></code> コマンドにより共有ライブラリと実行ファイルを配布する例を以下に示します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>spack load xxx
echo $LD_LIBRARY_PATH | sed -e &#39;s/:/\n/g&#39; | grep &#39;^/vol0004/apps/oss/spack&#39; | xargs /home/system/tool/dir_transfer
echo $PATH | sed -e &#39;s/:/\n/g&#39; | grep &#39;^/vol0004/apps/oss/spack&#39; | xargs /home/system/tool/dir_transfer
</pre></div>
</div>
</section>
<section id="python">
<h2><span class="section-number">4.3. </span>Python利用時のエラー<a class="headerlink" href="#python" title="Link to this heading">¶</a></h2>
<p>SpackでインストールされたPythonモジュールを利用すると、以下のようなエラーが発生する場合があります。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>py-ase<span class="w"> </span>%fj
$<span class="w"> </span>python3
Python<span class="w"> </span><span class="m">3</span>.8.12<span class="w"> </span><span class="o">(</span>default,<span class="w"> </span>Nov<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">2021</span>,<span class="w"> </span><span class="m">04</span>:44:05<span class="o">)</span>
<span class="o">[</span>Clang<span class="w"> </span><span class="m">7</span>.1.0<span class="w"> </span><span class="o">]</span><span class="w"> </span>on<span class="w"> </span>linux
Type<span class="w"> </span><span class="s2">&quot;help&quot;</span>,<span class="w"> </span><span class="s2">&quot;copyright&quot;</span>,<span class="w"> </span><span class="s2">&quot;credits&quot;</span><span class="w"> </span>or<span class="w"> </span><span class="s2">&quot;license&quot;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>more<span class="w"> </span>information.
&gt;&gt;&gt;<span class="w"> </span>import<span class="w"> </span>matplotlib
...
&gt;&gt;&gt;<span class="w"> </span>plt.savefig<span class="o">(</span><span class="s1">&#39;fig.png&#39;</span>,format<span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="o">)</span>
jwe0020i-u<span class="w"> </span>An<span class="w"> </span>error<span class="w"> </span>was<span class="w"> </span>detected<span class="w"> </span>during<span class="w"> </span>an<span class="w"> </span>abnormal<span class="w"> </span>termination<span class="w"> </span>process.
jwe0020i-u<span class="w"> </span>An<span class="w"> </span>error<span class="w"> </span>was<span class="w"> </span>detected<span class="w"> </span>during<span class="w"> </span>an<span class="w"> </span>abnormal<span class="w"> </span>termination<span class="w"> </span>process.
...
</pre></div>
</div>
<p>このような場合には、必要な全てのPythonモジュールをロードした後、 <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">find</span> <span class="pre">-lx</span> <span class="pre">python</span></code> で表示されるPythonをロードすればエラーを回避できます (以下の例で、 <code class="docutils literal notranslate"><span class="pre">abcdefg</span></code> は、 <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">find</span> <span class="pre">-lx</span> <span class="pre">python</span></code> で表示されるPythonのハッシュ値)。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>py-ase
...
$<span class="w"> </span>spack<span class="w"> </span>load<span class="w"> </span>/abcdefg
</pre></div>
</div>
</section>
<section id="matches-multiple-packages">
<h2><span class="section-number">4.4. </span>&quot;matches multiple packages&quot;のエラーが出る場合<a class="headerlink" href="#matches-multiple-packages" title="Link to this heading">¶</a></h2>
<p>原則として <code class="docutils literal notranslate"><span class="pre">spack</span> <span class="pre">find</span> <span class="pre">-lx</span></code> で表示されるハッシュを指定してください。</p>
</section>
<section id="rust">
<h2><span class="section-number">4.5. </span>Rustのコンパイルに時間がかかる場合<a class="headerlink" href="#rust" title="Link to this heading">¶</a></h2>
<p>SpackでインストールされたRustのコンパイルに時間がかかる場合、pjsubコマンドの--llioオプションでcn-read-cacheパラメータをoffに設定すると、改善されることがあります。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pjsub<span class="w"> </span>--llio<span class="w"> </span>cn-read-cache<span class="o">=</span>off<span class="w"> </span>job.sh
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">1. Spackとは</a></li>
<li><a class="reference internal" href="#id1">2. パブリック・インスタンスの利用</a><ul>
<li><a class="reference internal" href="#setup">2.1. 環境の読み込み</a></li>
<li><a class="reference internal" href="#id4">2.2. ビルド済みパッケージの確認</a></li>
<li><a class="reference internal" href="#oss">2.3. OSSのロード</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">3. プライベート・インスタンスの利用</a><ul>
<li><a class="reference internal" href="#id7">3.1. リポジトリのクローン</a></li>
<li><a class="reference internal" href="#id8">3.2. パブリック・インスタンス提供パッケージの利用</a></li>
<li><a class="reference internal" href="#id9">3.3. 外部パッケージの登録</a></li>
<li><a class="reference internal" href="#id10">3.4. 環境の読み込み</a></li>
<li><a class="reference internal" href="#id11">3.5. パッケージのインストールと管理</a></li>
<li><a class="reference internal" href="#sec-multiple-package">3.6. 同一名複数パッケージの区別</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id13">4. 既知の問題と対処</a><ul>
<li><a class="reference internal" href="#os">4.1. OS標準の動的ライブラリパスが上書きされる問題</a></li>
<li><a class="reference internal" href="#id14">4.2. マルチノードジョブにおける性能劣化</a></li>
<li><a class="reference internal" href="#python">4.3. Python利用時のエラー</a></li>
<li><a class="reference internal" href="#matches-multiple-packages">4.4. &quot;matches multiple packages&quot;のエラーが出る場合</a></li>
<li><a class="reference internal" href="#rust">4.5. Rustのコンパイルに時間がかかる場合</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="index.html"
                          title="前の章へ">富岳 Spack 利用ガイド</a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="index.html" title="富岳 Spack 利用ガイド"
             >前へ</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">富岳Spack利用ガイド  ドキュメント</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>Spackとは</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, RIKEN R-CCS.
    &nbsp;&nbsp;<a href="https://www.fugaku.r-ccs.riken.jp/">Fugaku Potal Top</a>
    </div>
  </body>
</html>