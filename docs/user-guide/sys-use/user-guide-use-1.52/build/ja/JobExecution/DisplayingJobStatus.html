

<!doctype html>

<html lang="ja" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.12. ジョブ状態の表示 &#8212; 利用手引書 利用およびジョブ実行編  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css?v=532c1bf3" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=89e52957" />
    
    <script src="../_static/documentation_options.js?v=c033477b"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="5.13. ジョブの削除" href="DeletingAJobJobOperations.html" />
    <link rel="prev" title="5.11. CPUコアとメモリのバインド" href="CPUcoreMemoryBinding.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="DeletingAJobJobOperations.html" title="5.13. ジョブの削除"
             accesskey="N">次へ</a></li>
        <li class="right" >
          <a href="CPUcoreMemoryBinding.html" title="5.11. CPUコアとメモリのバインド"
             accesskey="P">前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">利用手引書 利用およびジョブ実行編  ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">5. </span>ジョブ実行</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.12. </span>ジョブ状態の表示</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="id1">
<h1><span class="section-number">5.12. </span>ジョブ状態の表示<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<p>ユーザが投入したジョブの実行状況などを確認する方法について説明します。</p>
<p>ジョブの状態は、<strong class="program">pjstat</strong>コマンドで確認することができます。</p>
<section id="id2">
<h2><span class="section-number">5.12.1. </span>通常ジョブ<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p>ジョブ投入後、ジョブの実行状況などを確認する方法について説明します</p>
<nav class="contents local" id="id3">
<ul class="simple">
<li><p><a class="reference internal" href="#id4" id="id18">ジョブの一覧表示</a></p></li>
<li><p><a class="reference internal" href="#id5" id="id19">特定のジョブの表示</a></p></li>
<li><p><a class="reference internal" href="#pjstat" id="id20">pjstatの出力項目</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id21">ジョブのステータスの項目</a></p></li>
<li><p><a class="reference internal" href="#id7" id="id22">出力メッセージ一覧</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id23">状態別のジョブ数表示</a></p></li>
</ul>
</nav>
<section id="id4">
<h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">5.12.1.1. </span>ジョブの一覧表示</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<p>ジョブ状態の一覧表示には、<strong class="program">pjstat</strong>コマンドを使用します。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat

<span class="go">JOB_ID  JOB_NAME  MD  ST   USER   START_DATE      ELAPSE_LIM  NODE_REQUIRE  VNODE  CORE  V_MEM</span>
<span class="go">238     job.sh    NM  RUN  user1  11/17 09:01:41  0001:00:00  12:2x3x2      -      -     -</span>
<span class="go">239     bulk.sh   BU  RUN  user1  11/17 09:01:42  0001:00:00  12:2x3x2      -      -     -</span>
<span class="go">240     step.sh   ST  RUN  user1  11/17 09:01:42  -           -             -      -     -</span>
<span class="go">241     job2.sh   NM  RUN  user1  11/17 09:01:42  0001:00:00  2             -      -     -</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p>デフォルトでは、<strong class="program">pjstat</strong>コマンドを実行したユーザが参照可能なジョブだけ表示されます。</p>
</div>
</section>
<section id="id5">
<h3><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">5.12.1.2. </span>特定のジョブの表示</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<p><strong class="program">pjstat</strong>実行時にジョブIDやサブジョブIDを指定することができます。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="m">238</span>

<span class="go">JOB_ID  JOB_NAME  MD  ST   USER   START_DATE      ELAPSE_LIM  NODE_REQUIRE  VNODE  CORE  V_MEM</span>
<span class="go">238     job.sh    NM  RUN  user1  11/17 09:01:41  0001:00:00  12:2x3x2      -      -     -</span>

<span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="s1">&#39;239[1]&#39;</span>
<span class="go">JOB_ID  JOB_NAME  MD  ST   USER   START_DATE      ELAPSE_LIM  NODE_REQUIRE  -      -     -</span>
<span class="go">239[1]  bulk.sh   BU  RUN  user1  11/17 09:01:42  0001:00:00  12:2x3x2      -      -     -</span>
</pre></div>
</div>
<p><strong class="program">pjstat</strong>実行時にジョブIDやサブジョブIDを複数指定することができます。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="m">238</span><span class="w"> </span><span class="m">239</span>

<span class="go">JOB_ID  JOB_NAME  MD  ST   USER   START_DATE      ELAPSE_LIM  NODE_REQUIRE  VNODE  CORE  V_MEM</span>
<span class="go">238     job.sh    NM  RUN  user1  11/17 09:01:41  0001:00:00  12:2x3x2      -      -     -</span>
<span class="go">239     bulk.sh   BU  RUN  user1  11/17 09:01:42  0001:00:00  12:2x3x2      -      -     -</span>
</pre></div>
</div>
<p>また、ジョブID やサブジョブID は複数指定でき、列挙する方式と範囲を指定する方式があります。</p>
<ul>
<li><p>列挙</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="m">238</span><span class="w"> </span><span class="m">239</span><span class="w">                              </span><span class="c1"># ジョブID</span>
<span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="s1">&#39;239[1]&#39;</span><span class="w"> </span><span class="s1">&#39;239[2]&#39;</span><span class="w"> </span><span class="s1">&#39;239[3]&#39;</span><span class="w"> </span><span class="s1">&#39;239[4]&#39;</span><span class="w">  </span><span class="c1"># バルクジョブのサブジョブID</span>
<span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span>240_0<span class="w"> </span>240_1<span class="w"> </span>240_2<span class="w"> </span>240_3<span class="w">              </span><span class="c1"># ステップジョブのサブジョブID</span>
</pre></div>
</div>
</li>
<li><p>範囲の指定</p>
<p>ジョブID または バルク番号、ステップ番号をハイフンでつなげると、範囲指定となります。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="m">238</span>-240<span class="w">    </span><span class="c1"># ジョブID 238、239、240</span>
<span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span><span class="s1">&#39;239[1-5]&#39;</span><span class="w"> </span><span class="c1"># サブジョブID 239[1]、239[2]、239[3]、239[4]、239[5]</span>
<span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span>240_0-4<span class="w">    </span><span class="c1"># サブジョブID 240_0、240_1、240_2、240_3、240_4</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>pjstat コマンドの引数にバルクジョブのサブジョブIDを指定する場合、括弧'[]'がシェルによって処理されないようにシングルクォートなどでエスケープしてください。</p>
</div>
</section>
<section id="pjstat">
<h3><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">5.12.1.3. </span>pjstatの出力項目</a><a class="headerlink" href="#pjstat" title="Link to this heading">¶</a></h3>
<p><strong class="program">pjstat</strong>の出力結果の項目と内容は以下のとおりです。</p>
<p>ジョブ情報一覧の項目</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項目名</p></th>
<th class="head"><p>内容</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>JOB_ID</p></td>
<td><p>ジョブIDです。</p></td>
</tr>
<tr class="row-odd"><td><p>JOB_NAME</p></td>
<td><p>ジョブ名です。</p></td>
</tr>
<tr class="row-even"><td><p>MD</p></td>
<td><p>ジョブモデルです。</p>
<ul class="simple">
<li><p>NM は通常ジョブ、または、会話型ジョブ</p></li>
<li><p>ST はステップジョブ</p></li>
<li><p>BU はバルクジョブ</p></li>
<li><p>MW はマスタ・ワーカ型ジョブ</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>ST</p></td>
<td><div class="line-block">
<div class="line">ジョブの現在の処理状態です。</div>
<div class="line">詳細は後述のジョブのステータスを参照してください。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>USER</p></td>
<td><p>実行ユーザ名です。</p></td>
</tr>
<tr class="row-odd"><td><p>START_DATE</p></td>
<td><p>ジョブが実行前の場合は実行開始予定時刻を表示し、実行中、および、実行後の場合は実際に開始した時刻を表示します。</p>
<ul class="simple">
<li><p>実行開始予定時刻の場合は、実行開始予定時刻が括弧&quot;( )&quot;で囲まれます。</p></li>
<li><p>開始予定時刻は、再スケジューリング時に変更される場合があります。</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>ELAPSE_LIM</p></td>
<td><p>経過時間制限を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>NODE_REQUIRE</p></td>
<td><ul>
<li><p>ノード割り当てジョブの場合</p>
<p>ジョブの投入時に指定したノード数とノード形状 &quot;nnnnnn:XXxYYxZZ&quot;</p>
<p>上記のフォーマットに収まりきらない場合は、ノード形状のみ出力します。</p>
</li>
<li><p>仮想ノード割り当てジョブの場合</p>
<p>ジョブ投入時に指定した仮想ノード数。現在は、&quot;1&quot; を出力します。</p>
</li>
<li><p>ステップジョブのサマリ情報の場合</p>
<p>&quot;-&quot;（ハイフン）を出力します</p>
</li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>VNODE</p></td>
<td><p>仮想ノード数を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>CORE</p></td>
<td><p>仮想ノードあたりのCPUコア数を表示します。</p></td>
</tr>
<tr class="row-even"><td><p>V_MEM</p></td>
<td><p>仮想ノードあたりのメモリ量を表示します。</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">5.12.1.4. </span>ジョブのステータスの項目</a><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<p>ジョブのステータス（ST）項目の状態一覧を示します。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14.3%" />
<col style="width: 14.3%" />
<col style="width: 71.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>表示内容</p></th>
<th class="head"><p>状態</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ACC</p></td>
<td><p>ACCEPT</p></td>
<td><p>ジョブ投入が受け付けられた状態です。</p></td>
</tr>
<tr class="row-odd"><td><p>CCL</p></td>
<td><p>CANCEL</p></td>
<td><p>ジョブ投入者または管理者からの指示で、ジョブが中止された状態です。</p></td>
</tr>
<tr class="row-even"><td><p>ERR</p></td>
<td><p>ERROR</p></td>
<td><p>ジョブ運用管理機能で検出したエラーにより、投入済みの状態を保ったままジョブが中止された状態です。</p>
<ul class="simple">
<li><p>エラージョブはユーザー自身で削除する必要があります。</p></li>
<li><p>一定期間経過したエラージョブはシステム側で削除することがあります。</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>EXT</p></td>
<td><p>EXIT</p></td>
<td><p>ジョブが終了した状態です。</p></td>
</tr>
<tr class="row-even"><td><p>HLD</p></td>
<td><p>HOLD</p></td>
<td><p>ジョブの実行を中止し、投入済みの状態で固定された状態です。</p>
<ul class="simple">
<li><p>不要になったHLDジョブはユーザー自身で削除する必要があります。</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>QUE</p></td>
<td><p>QUEUED</p></td>
<td><p>ジョブが受け付けられ、実行の順番が来るのを待っている状態です。</p></td>
</tr>
<tr class="row-even"><td><p>RJT</p></td>
<td><p>REJECT</p></td>
<td><p>ジョブの受付けが拒否された状態です。</p></td>
</tr>
<tr class="row-odd"><td><p>RNA</p></td>
<td><p>RUNNING-A</p></td>
<td><p>ジョブの実行に必要な資源を獲得している状態です。</p></td>
</tr>
<tr class="row-even"><td><p>RNE</p></td>
<td><p>RUNNING-E</p></td>
<td><p>エピローグ処理が実行されている状態です。</p></td>
</tr>
<tr class="row-odd"><td><p>RNO</p></td>
<td><p>RUNOUT</p></td>
<td><p>ジョブの終了処理をしている状態です。</p></td>
</tr>
<tr class="row-even"><td><p>RNP</p></td>
<td><p>RUNNING-P</p></td>
<td><p>プロローグ処理が実行されている状態です。</p></td>
</tr>
<tr class="row-odd"><td><p>RSM</p></td>
<td><p>RESUME</p></td>
<td><p>リジューム処理をしている状態です。</p></td>
</tr>
<tr class="row-even"><td><p>RUN</p></td>
<td><p>RUNNING</p></td>
<td><p>ジョブが実行されている状態です。</p></td>
</tr>
<tr class="row-odd"><td><p>SPD</p></td>
<td><p>SUSPENDED</p></td>
<td><p>サスペンド済みの状態です。</p></td>
</tr>
<tr class="row-even"><td><p>SPP</p></td>
<td><p>SUSPEND</p></td>
<td><p>サスペンド処理をしている状態です。</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id7">
<h3><a class="toc-backref" href="#id22" role="doc-backlink"><span class="section-number">5.12.1.5. </span>出力メッセージ一覧</a><a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line"><strong class="program">pjstat</strong>コマンドに、<code class="docutils literal notranslate"><span class="pre">-v</span></code>オプションを指定するとREASONが出力されます。</div>
<div class="line">REASONは、ジョブを実行する、しないにかかわらず、そのジョブの何らかの処理に対する結果コードに対応するメッセージです。</div>
<div class="line">出力されるメッセージの意味は以下のとおりです。</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>メッセージ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>（なし）</p></td>
<td><p>エラーはありません。</p></td>
</tr>
<tr class="row-odd"><td><p>MM/DD hh:mm DELAY</p></td>
<td><p>実行開始予定時刻が、指定した実行開始時刻以降になりました。</p></td>
</tr>
<tr class="row-even"><td><p>ANOTHER JOB STARTED</p></td>
<td><p>ジョブの実行可能時間の最小値を超えて実行していたジョブが、後続のジョブを実行するために終了させられました。</p></td>
</tr>
<tr class="row-odd"><td><p>DEADLINE SCHEDULE STARTED</p></td>
<td><p>ジョブの実行可能時間の最小値を超えて実行していたジョブが、デッドラインスケジュールの開始により終了させられました。</p></td>
</tr>
<tr class="row-even"><td><p>ELAPSE LIMIT EXCEEDED</p></td>
<td><p>経過時間制限を超過しました。</p></td>
</tr>
<tr class="row-odd"><td><p>FILE IO ERROR</p></td>
<td><p>ユーザのジョブ投入時のカレントディレクトリにアクセス不能です。</p></td>
</tr>
<tr class="row-even"><td><p>GATE CHECK</p></td>
<td><p>ジョブマネージャー出口機能によってキャンセルされました。</p></td>
</tr>
<tr class="row-odd"><td><p>IMPOSSIBLE SCHED</p></td>
<td><p>スケジューリングができませんでした。</p></td>
</tr>
<tr class="row-even"><td><p>INSUFF CPU</p></td>
<td><p>物理的にCPU数が不足しています。</p></td>
</tr>
<tr class="row-odd"><td><p>INSUFF MEMORY</p></td>
<td><p>物理的にメモリ量が不足しています。</p></td>
</tr>
<tr class="row-even"><td><p>INSUFF NODE</p></td>
<td><p>物理的にノード数が不足しています。</p></td>
</tr>
<tr class="row-odd"><td><p>INSUFF CustomResourceName</p></td>
<td><p>資源名CustomResourceName で定義されているカスタム資源が不足しています。</p></td>
</tr>
<tr class="row-even"><td><p>INTERNAL ERROR</p></td>
<td><p>内部エラーです。</p></td>
</tr>
<tr class="row-odd"><td><p>INVALID HOSTFILE</p></td>
<td><p><strong class="program">pjsub</strong>コマンドの<code class="docutils literal notranslate"><span class="pre">rank-map-hostfile</span></code>パラメーターで指定したホストファイルが不正です。</p></td>
</tr>
<tr class="row-even"><td><p>LIMIT OVER MEMORY</p></td>
<td><p>ジョブ実行中にメモリ量制限を超過しました。</p></td>
</tr>
<tr class="row-odd"><td><p>LOST COMM</p></td>
<td><p>並列プロセスの全対全通信が保証されません。</p></td>
</tr>
<tr class="row-even"><td><p>NO CURRENT DIR</p></td>
<td><p>ユーザのジョブ投入時のカレントディレクトリまたは標準入力/標準出力/標準エラー出力ファイルにアクセスできませんでした。</p></td>
</tr>
<tr class="row-odd"><td><p>NOT EXIST CustomResourceName</p></td>
<td><p>資源名 CustomResourceName のカスタム資源は定義されていません。</p></td>
</tr>
<tr class="row-even"><td><p>RESUME FAIL</p></td>
<td><p>リジュームに失敗しました。</p></td>
</tr>
<tr class="row-odd"><td><p>RSCGRP NOT EXIST</p></td>
<td><p>リソースグループが存在しません。</p></td>
</tr>
<tr class="row-even"><td><p>RSCGRP STOP</p></td>
<td><p>リソースグループが停止しています。</p></td>
</tr>
<tr class="row-odd"><td><p>RSCUNIT NOT EXIST</p></td>
<td><p>リソースユニットが存在しません。</p></td>
</tr>
<tr class="row-even"><td><p>RSCUNIT STOP</p></td>
<td><p>リソースユニットが停止しています。</p></td>
</tr>
<tr class="row-odd"><td><p>RUNLIMIT EXCEED</p></td>
<td><p>ジョブの同時実行制限数を超過しました。</p></td>
</tr>
<tr class="row-even"><td><p>SUSPEND FAIL</p></td>
<td><p>サスペンドに失敗しました。</p></td>
</tr>
<tr class="row-odd"><td><p>USELIMIT EXCEED</p></td>
<td><p>同時使用ノード数制限または同時使用CPUコア数制限による実行待ちです。</p></td>
</tr>
<tr class="row-even"><td><p>USER NOT EXIST</p></td>
<td><p>ジョブの実行ユーザがシステムに存在しません。</p></td>
</tr>
<tr class="row-odd"><td><p>WAIT SCHED</p></td>
<td><p>スケジューリング対象ジョブ数の制限に達したため、スケジューリングの対象外になりました。</p></td>
</tr>
<tr class="row-even"><td><p>そのほかの文字列</p></td>
<td><ul class="simple">
<li><p><strong class="program">pjdel</strong>、<strong class="program">pjhold</strong>、または、<strong class="program">pmsuspend</strong>コマンドの<code class="docutils literal notranslate"><span class="pre">--reason</span></code>オプションで指定したメッセージ</p></li>
<li><p>ジョブマネージャー出口機能、ジョブスケジューラー出口機能、または、ジョブ資源管理出口機能で管理者が設定したメッセージ</p></li>
</ul>
<p><strong class="program">pjhold</strong>および <strong class="program">pmsuspend</strong>コマンドの<code class="docutils literal notranslate"><span class="pre">--reason</span></code>オプションによるメッセージの場合は、&quot;<cite>コマンド実行ユーザ名:message</cite>&quot;の形式で表示されます。<code class="docutils literal notranslate"><span class="pre">--reason</span></code>オプションの指定がない場合は、&quot;<cite>コマンド実行ユーザ名:</cite>&quot;が表示されます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id23" role="doc-backlink"><span class="section-number">5.12.1.6. </span>状態別のジョブ数表示</a><a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<p><strong class="program">pjstat</strong>コマンドに、<code class="docutils literal notranslate"><span class="pre">--with-summary</span></code>を指定すると、状態別のジョブ数とジョブの詳細が表示されます。</p>
<p>表示される情報とその意味を以下に示します。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span>--with-summary

<span class="go">   ACCEPT QUEUED RUNING RUNOUT  HOLD  ERROR REJECT  EXIT CANCEL  TOTAL</span>
<span class="go">        n      n      n      n     n      n      n     n      n      n</span>
<span class="go"> s      n      n      n      n     n      n      n     n      n      n</span>

<span class="go"> JOB_ID JOB_NAME MD ST USER START_DATE     ELAPSE_LIM            NODE_REQUIRE VNODE CORE V_MEM</span>
<span class="go"> XXXXXX XXXXXXXX XX XX XXXX MM/DD hh:mm:ss hhhh:mm:ss-hhhh:mm:ss nnn:XXxYYxZZ nnnnn nnnn nnnMiB</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p>状態別のジョブ数表示において先頭に &quot;s&quot; の付いた行は、サブジョブを含めたジョブ数を表示します。</p>
<p>pjstat --summary を指定した場合、状態別のジョブ数のみ表示します。</p>
</div>
<p><strong class="program">pjstat</strong>コマンドの出力項目 (状態別のジョブ数)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>項目</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ACCEPT</p></td>
<td><p>ジョブ受付け待ち状態のジョブ数を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>QUEUED</p></td>
<td><p>ジョブ実行待ち状態のジョブ数を表示します。</p></td>
</tr>
<tr class="row-even"><td><p>RUNING</p></td>
<td><p>実行中のジョブ数を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>RUNOUT</p></td>
<td><p>ジョブの終了待ち状態のジョブ数を表示します。</p></td>
</tr>
<tr class="row-even"><td><p>HOLD</p></td>
<td><p>ユーザによる固定状態のジョブ数を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>ERROR</p></td>
<td><p>エラーによる固定状態のジョブ数を表示します。</p></td>
</tr>
<tr class="row-even"><td><p>REJECT</p></td>
<td><p>受付けが拒否された状態のジョブ数を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>EXIT</p></td>
<td><p>終了したジョブ数を表示します。</p></td>
</tr>
<tr class="row-even"><td><p>CANCEL</p></td>
<td><p>中止されたジョブ数を表示します。</p></td>
</tr>
<tr class="row-odd"><td><p>TOTAL</p></td>
<td><p>表示されている状態別ジョブ数の合計を表示します。</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id9">
<h2><span class="section-number">5.12.2. </span>ステップジョブ<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">ステップジョブの状態は、<strong class="program">pjstat</strong>コマンドで表示することができます。</div>
<div class="line">サブジョブ情報を参照する場合には、<code class="docutils literal notranslate"><span class="pre">-E</span></code>オプションが必要となります。また、サブジョブは投入順に逐次実行されるため先頭のサブジョブの実行が終了するまで、次のサブジョブのスケジューリングは実施されません。</div>
<div class="line">したがって、状態表示を行った場合に、&quot;START_DATE&quot; 欄に &quot;-&quot; が表示されることがあります。</div>
</div>
<ul class="simple">
<li><p>通常の表示</p></li>
</ul>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat
<span class="go">JOB_ID JOB_NAME MD ST  USER  START_DATE     ELAPSE_LIM NODE_REQUIRE VNODE CORE V_MEM</span>
<span class="go">240    step.sh  ST RUN user1 11/17 09:01:42 -          -            -     -    -</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>サブジョブを含めた表示（<code class="docutils literal notranslate"><span class="pre">-E</span></code>オプションを付加）</p></li>
</ul>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span>-E
<span class="go">JOB_ID JOB_NAME MD ST  USER  START_DATE     ELAPSE_LIM ...(省略)...</span>
<span class="go">240    step.sh  ST RUN user1 11/17 09:01:42 -          ...(省略)...</span>
<span class="go">240_0  step.sh  ST RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
<span class="go">240_1  step.sh  ST QUE user1 -              0001:00:00 ...(省略)...</span>
<span class="go">240_2  step.sh  ST QUE user1 -              0001:00:00 ...(省略)...</span>
<span class="go">240_3  step.sh  ST QUE user1 -              0001:00:00 ...(省略)...</span>
<span class="go">240_4  step.sh  ST QUE user1 -              0001:00:00 ...(省略)...</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="id10">
<h2><span class="section-number">5.12.3. </span>バルクジョブ<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">バルクジョブの状態は、<strong class="program">pjstat</strong>コマンドで表示することができます。</div>
<div class="line">サブジョブ情報を参照する場合には、<code class="docutils literal notranslate"><span class="pre">-E</span></code>オプションが必要となります。</div>
</div>
<ul>
<li><p>通常の表示</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat
<span class="go">JOB_ID JOB_NAME MD ST  USER  START_DATE     ELAPSE_LIM NODE_REQUIRE VNODE CORE V_MEM</span>
<span class="go">239    bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 12:2x3x2     -     -    -</span>
</pre></div>
</div>
</li>
<li><p>サブジョブを含む表示（<code class="docutils literal notranslate"><span class="pre">-E</span></code>オプションを付加）</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span>-E
<span class="go">JOB_ID JOB_NAME MD ST  USER  START_DATE     ELAPSE_LIM ...(省略)...</span>
<span class="go">239    bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
<span class="go">239[1] bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
<span class="go">239[2] bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
<span class="go">239[3] bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
<span class="go">239[4] bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
<span class="go">239[5] bulk.sh  BU RUN user1 11/17 09:01:42 0001:00:00 ...(省略)...</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="id11">
<h2><span class="section-number">5.12.4. </span>計算リソース<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h2>
<p>課題毎の計算リソースの表示は、<strong class="command">accountj</strong>コマンドを利用して確認できます。</p>
<p>ジョブ毎の計算リソースおよび係数の表示は、<strong class="program">pjstata</strong>コマンドを利用して確認できます。</p>
<p>各コマンドの利用方法は、<a class="reference external" href="https://www.fugaku.r-ccs.riken.jp/doc_root/ja/user_guides/support_tool/">利用者支援ツール 使用手引書 (利用者編)利用ガイド</a>の「3.1 コマンド解説」を参照ください。</p>
</section>
<section id="id13">
<h2><span class="section-number">5.12.5. </span>ジョブ統計情報<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h2>
<p>ジョブの統計情報は、<strong class="command">pjsub</strong>のオプションに<code class="docutils literal notranslate"><span class="pre">-s</span></code>、または、<code class="docutils literal notranslate"><span class="pre">-S</span></code>を付けて実行した場合に、拡張子が「stats」のファイルを出力します。
ジョブ統計情報は、<strong class="command">pjstat</strong>コマンドを用いて参照することも可能です。</p>
<p><strong class="command">pjstat</strong>コマンドを使用する場合は、以下のオプションを利用します。</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pjstat {-s|-S} --history [day=N] [jobid]
</pre></div>
</div>
<p>[使用例]</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjstat<span class="w"> </span>-S<span class="w"> </span>--history<span class="w"> </span><span class="nv">day</span><span class="o">=</span><span class="m">7</span><span class="w"> </span><span class="m">22269</span>
</pre></div>
</div>
<p>ジョブ統計情報の各項目については、manマニュアル pjstatsinfo(7)を参照してください。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>man<span class="w"> </span>pjstatsinfo
</pre></div>
</div>
<section id="id14">
<h3><span class="section-number">5.12.5.1. </span>電力の情報<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h3>
<p>ジョブ統計情報には次のような電力の情報が含まれています。</p>
<ul class="simple">
<li><p>CMG 単位の計算コア群平均消費電力 (推定)</p></li>
<li><p>CMG 単位の L2 キャッシュ平均消費電力 (推定)</p></li>
<li><p>CMG 単位のメモリ平均消費電力 (推定)</p></li>
<li><p>Tofu 平均消費電力 (推定)</p></li>
<li><p>CPU 内周辺平均消費電力 (推定)</p></li>
<li><p>光モジュール平均消費電力 (推定)</p></li>
<li><p>PCI-E 平均消費電力 (推定)</p></li>
<li><p>ノード平均消費電力 (推定)</p></li>
<li><p>ノード平均消費電力 (実測)</p></li>
</ul>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>電力関連情報の取得間隔について</p>
<ul>
<li><div class="line-block">
<div class="line">ジョブ統計情報にて出力される電力情報の元となる電力測定は1分間隔です。</div>
<div class="line">実行時間が1分未満のジョブでは適切なタイミングで電力測定ができない場合があり、表示された値と実際に使用した電力の乖離が大きくなることがあります。</div>
</div>
</li>
<li><p>ジョブ統計情報にて出力される電力情報 AVG は、1分単位で計測した情報を処理した値です。</p></li>
</ul>
</div>
<p>「富岳」では、ジョブ実行中に消費電力が運用側で設定した値を超過した場合、該当ジョブが使用しているノードのCPUクロックを強制的に下げる場合があります。
統計情報の出力はジョブの消費電力の目安となります。</p>
<p>より詳細な消費電力の調査が必要な場合は、PowerAPIやプロファイラを利用してください。</p>
<p>ジョブ統計情報の出力例（抜粋）</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>AVG POWER CONSUMPTION OF CORES/CMG(0) (IDEAL) : 21.394424
AVG POWER CONSUMPTION OF CORES/CMG(1) (IDEAL) : 21.355174
AVG POWER CONSUMPTION OF CORES/CMG(2) (IDEAL) : 21.362863
AVG POWER CONSUMPTION OF CORES/CMG(3) (IDEAL) : 21.363552
ENERGY CONSUMPTION OF CORES/CMG(0) (IDEAL) : 0.012945
ENERGY CONSUMPTION OF CORES/CMG(1) (IDEAL) : 0.012922
ENERGY CONSUMPTION OF CORES/CMG(2) (IDEAL) : 0.012926
ENERGY CONSUMPTION OF CORES/CMG(3) (IDEAL) : 0.012927
AVG POWER CONSUMPTION OF L2CACHE/CMG(0) (IDEAL) : 1.349224
AVG POWER CONSUMPTION OF L2CACHE/CMG(1) (IDEAL) : 1.337747
AVG POWER CONSUMPTION OF L2CACHE/CMG(2) (IDEAL) : 1.323286
AVG POWER CONSUMPTION OF L2CACHE/CMG(3) (IDEAL) : 1.323401
</pre></div>
</div>
</section>
<section id="id15">
<h3><span class="section-number">5.12.5.2. </span>電力制限機能（パワーキャッピング）<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h3>
<p>ジョブの消費電力が閾値を越えて電力制限機能が働いた場合、ジョブ統計情報の「POWER CAPPING DATE」に閾値を越えた時刻が出力されます。</p>
<p>電力制限を受けたかどうかの確認は「POWER CAPPING DATE」を参照ください。</p>
</section>
<section id="id16">
<h3><span class="section-number">5.12.5.3. </span>性能情報の算出<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h3>
<p>ジョブ統計情報は性能情報を算出するための情報（PERF COUNT）が含まれています。
この情報はノードごとに出力されるため、<code class="docutils literal notranslate"><span class="pre">-S</span></code>オプションを付けた場合に出力されます。</p>
<p>出力例(抜粋)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>PERF COUNT 1                : 4385694044
PERF COUNT 2                : 3968
PERF COUNT 3                : 0
PERF COUNT 4                : 267598
PERF COUNT 5                : 328895
PERF COUNT 6                : 0
PERF COUNT 7                : 2398547
PERF COUNT 8                : 98275
PERF COUNT 9                : 237498
</pre></div>
</div>
<p>性能情報の算出は次のように計算します。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>性能情報</p></th>
<th class="head"><p>算出方法</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>実行サイクル数</p></td>
<td><p>SUM（PERF COUNT 1）</p></td>
</tr>
<tr class="row-odd"><td><p>浮動小数点命令演算数</p></td>
<td><p>SUM（PERF COUNT 2）＋ SUM（PERF COUNT 3）× 4</p></td>
</tr>
<tr class="row-even"><td><p>メモリ読み出し要求数</p></td>
<td><p>SUM（PERF COUNT 4）/ 12</p></td>
</tr>
<tr class="row-odd"><td><p>メモリ書き出し要求数</p></td>
<td><p>SUM（PERF COUNT 5）/ 12</p></td>
</tr>
<tr class="row-even"><td><p>スリープサイクル数</p></td>
<td><p>SUM（PERF COUNT 6）</p></td>
</tr>
<tr class="row-odd"><td><p>EFFECTIVE_INST_SPEC*</p></td>
<td><p>SUM（PERF COUNT 7）</p></td>
</tr>
<tr class="row-even"><td><p>SIMD_INST_RETIRED*</p></td>
<td><p>SUM（PERF COUNT 8）</p></td>
</tr>
<tr class="row-odd"><td><p>SVE_INST_RETIRED*</p></td>
<td><p>SUM（PERF COUNT 9）</p></td>
</tr>
</tbody>
</table>
<p>*参考：<a class="reference external" href="https://github.com/fujitsu/A64FX/blob/master/doc/A64FX_PMU_Events_v1.3.pdf">https://github.com/fujitsu/A64FX/blob/master/doc/A64FX_PMU_Events_v1.3.pdf</a></p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>ジョブ統計情報から算出される性能情報は実行したアプリ単位ではなくジョブ単位であることに留意ください。</p>
<p>ジョブスクリプト中で、<strong class="command">xospastop</strong>コマンドを実行した場合やプロファイラを実行した場合は、PERF COUNTの計測が行われません。アプリの詳細な性能情報が必要な場合はプロファイラなどをご利用ください。</p>
</div>
</section>
</section>
<section id="id17">
<h2><span class="section-number">5.12.6. </span>ジョブ状態表示コマンドのオプション<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h2>
<p>ジョブ状態表示コマンド（<strong class="program">pjstat</strong>）の代表的なオプションを示します。</p>
<p>詳細は「ジョブ運用ソフトウェア - エンドユーザ向けガイド」を参照してください。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>オプション名</p></th>
<th class="head"><p>機能</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-H、--history [day=value]</p></td>
<td><div class="line-block">
<div class="line">処理が終了したジョブ（REJECT、EXIT、CANCEL状態）の情報だけを表示します。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">-H</span></code>または<code class="docutils literal notranslate"><span class="pre">--history</span></code>の引数を指定しない場合は、過去3日間に終了したジョブの情報を出力します。</div>
<div class="line">day=value により過去のvalue日間に終了したジョブの情報を出力します。値は整数 [1-90] が指定可能です。</div>
<div class="line">「富岳」は最大90日の情報を保持しています。</div>
<div class="line">例: <code class="docutils literal notranslate"><span class="pre">pjstat</span> <span class="pre">-H</span> <span class="pre">day=90</span></code></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>-v</p></td>
<td><p>標準形式では出力されないジョブ情報を追加で表示します。</p></td>
</tr>
<tr class="row-even"><td><p>-s</p></td>
<td><div class="line-block">
<div class="line">資源使用状況や資源制限値などの詳細情報を出力します。</div>
<div class="line">出力される情報は、<a class="reference internal" href="NormalJob.html#jobexecutionstatisticalinformation"><span class="std std-ref">統計情報</span></a>を参照してください。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">-v</span></code>または、<code class="docutils literal notranslate"><span class="pre">-S</span></code>オプションと併用した場合は、エラーメッセージを出力して終了します。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>-S</p></td>
<td><div class="line-block">
<div class="line"><code class="docutils literal notranslate"><span class="pre">-s</span></code>オプションで出力される情報に加え、そのジョブに設定されているノード単位の情報についても追加で出力します。</div>
<div class="line">出力される情報は、<a class="reference internal" href="NormalJob.html#jobexecutionstatisticalinformation"><span class="std std-ref">統計情報</span></a>を参照してください。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">-v</span></code>または、<code class="docutils literal notranslate"><span class="pre">-s</span></code>オプションと併用した場合は、エラーメッセージを出力して終了します。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>-E、 --expand</p></td>
<td><p>サブジョブが存在するとき、そのサブジョブの一覧も出力します。</p></td>
</tr>
<tr class="row-odd"><td><p>--limit</p></td>
<td><p>ユーザのジョブ投入に関する制限値と現在の使用量を表示します。</p></td>
</tr>
<tr class="row-even"><td><p>--help</p></td>
<td><p>ヘルプを表示します。</p></td>
</tr>
</tbody>
</table>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">5.12. ジョブ状態の表示</a><ul>
<li><a class="reference internal" href="#id2">5.12.1. 通常ジョブ</a><ul>
<li><a class="reference internal" href="#id4">5.12.1.1. ジョブの一覧表示</a></li>
<li><a class="reference internal" href="#id5">5.12.1.2. 特定のジョブの表示</a></li>
<li><a class="reference internal" href="#pjstat">5.12.1.3. pjstatの出力項目</a></li>
<li><a class="reference internal" href="#id6">5.12.1.4. ジョブのステータスの項目</a></li>
<li><a class="reference internal" href="#id7">5.12.1.5. 出力メッセージ一覧</a></li>
<li><a class="reference internal" href="#id8">5.12.1.6. 状態別のジョブ数表示</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id9">5.12.2. ステップジョブ</a></li>
<li><a class="reference internal" href="#id10">5.12.3. バルクジョブ</a></li>
<li><a class="reference internal" href="#id11">5.12.4. 計算リソース</a></li>
<li><a class="reference internal" href="#id13">5.12.5. ジョブ統計情報</a><ul>
<li><a class="reference internal" href="#id14">5.12.5.1. 電力の情報</a></li>
<li><a class="reference internal" href="#id15">5.12.5.2. 電力制限機能（パワーキャッピング）</a></li>
<li><a class="reference internal" href="#id16">5.12.5.3. 性能情報の算出</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id17">5.12.6. ジョブ状態表示コマンドのオプション</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="CPUcoreMemoryBinding.html"
                          title="前の章へ"><span class="section-number">5.11. </span>CPUコアとメモリのバインド</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="DeletingAJobJobOperations.html"
                          title="次の章へ"><span class="section-number">5.13. </span>ジョブの削除</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="DeletingAJobJobOperations.html" title="5.13. ジョブの削除"
             >次へ</a></li>
        <li class="right" >
          <a href="CPUcoreMemoryBinding.html" title="5.11. CPUコアとメモリのバインド"
             >前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">利用手引書 利用およびジョブ実行編  ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">5. </span>ジョブ実行</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.12. </span>ジョブ状態の表示</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, 理化学研究所計算科学研究センター.
    &nbsp;&nbsp;<a href="https://www.fugaku.r-ccs.riken.jp/">Fugaku website Top</a>
    </div>
  </body>
</html>