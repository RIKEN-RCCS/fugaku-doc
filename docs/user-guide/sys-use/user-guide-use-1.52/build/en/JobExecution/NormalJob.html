

<!doctype html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.2. Normal job &#8212; Supercomputer Fugaku User Guide - Use and job execution -  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css?v=532c1bf3" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=f85107c5" />
    
    <script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.3. Step job" href="StepJob.html" />
    <link rel="prev" title="5.1. Overview" href="Overview.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="StepJob.html" title="5.3. Step job"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="Overview.html" title="5.1. Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Supercomputer Fugaku User Guide - Use and job execution -  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U"><span class="section-number">5. </span>Job execution</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.2. </span>Normal job</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="normal-job">
<h1><span class="section-number">5.2. </span>Normal job<a class="headerlink" href="#normal-job" title="Link to this heading">¶</a></h1>
<div class="line-block">
<div class="line">It is a general batch job that does not have a special processing form.</div>
<div class="line">Since the job is executed when the conditions (computation resources, etc.) necessary for normal job execution are prepared, the execution order is not guaranteed.</div>
</div>
<figure class="align-default">
<img alt="../_images/NormalJob_01.png" src="../_images/NormalJob_01.png" />
</figure>
<section id="submitting-a-job">
<h2><span class="section-number">5.2.1. </span>Submitting a job<a class="headerlink" href="#submitting-a-job" title="Link to this heading">¶</a></h2>
<p>To submit a job, specify a job script to <strong class="program">pjsub</strong> command and execute.</p>
<ol class="arabic simple">
<li><p>Submit a job with <strong class="program">pjsub</strong> command.</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjsub<span class="w"> </span>./sample.sh<span class="w">                  </span><span class="c1"># Submit a job</span>
<span class="go">[INFO] PJM 0000 pjsub Job 9714 submitted.</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Job ID will be shown on the screen once submit a job with <strong class="program">pjsub</strong> command.
Job ID is used to identify a job for displaying job status(<strong class="program">pjstat</strong>)  and job deleting (<strong class="program">pjdel</strong>)  and so on.</p>
</div>
</div></blockquote>
<p>The following message is displayed when you execute the <strong class="program">pjsub</strong> command:.</p>
<p>Example. If you do not specify an project group ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[_LNlogin]$ pjsub sample.sh
[ERR.] PJM 0071 pjsub Group not authorized to submit a job: group(59999)
</pre></div>
</div>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">group(59999)</span></code> appears, specify the group ID for the project.
The <a class="reference internal" href="../UsageRules/index.html#group"><span class="std std-ref">group</span></a> must be specified when the job is executed.</p>
</div></blockquote>
<p>Example. If the executable directory is the home directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[_LNlogin]$ pjsub ./sample.sh
The current directory is not a data area. (directory: /vol000N/groupname/username)
Specify --no-check-directory option if you want to submit jobs outside the data area.
</pre></div>
</div>
<blockquote>
<div><p>Submit the job in the data area. Use the <code class="docutils literal notranslate"><span class="pre">--no-check-directory</span></code> option if you need to use a home directory.
See <a class="reference internal" href="../LayeredStorageAndLLIO/SelectAvailableVolumes.html#selectavailablevolumes"><span class="std std-ref">Selecting a usage file system (volume)</span></a>.</p>
</div></blockquote>
<p>Example. No Spack volume specification:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[_LNlogin]$ pjsub PWscf.sh
If you use Spack, set PJM_LLIO_GFSCACHE to /vol0004.(ex. pjsub -x PJM_LLIO_GFSCACHE=/vol0004)
Specify --no-check-gfscache option if you do not want to use Spack and want to submit jobs.
</pre></div>
</div>
<blockquote>
<div><p>Add <code class="docutils literal notranslate"><span class="pre">-x</span> <span class="pre">PJM_LLIO_GFSCACHE=/vol0004</span></code> to use Spack.
See <a class="reference internal" href="../LayeredStorageAndLLIO/SelectAvailableVolumes.html#selectavailablevolumes"><span class="std std-ref">Selecting a usage file system (volume)</span></a>.</p>
</div></blockquote>
<p>Example. If the number of nodes requested by the submitted job exceeds the number of nodes that can be specified for the Retention state transition of the compute core:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[_LNlogin]$ pjsub sample.sh
warn: specification of core retention is invalid because job size is too large.
</pre></div>
</div>
<blockquote>
<div><p>This message is displayed when the number of nodes requested by the ``-L node`` option of the submitted job exceeds the number of nodes that can be specified as Retention for the compute core.</p>
<p>If it is possible to reduce the number of requested nodes in a job by prioritizing the power savings setting from the Retention state transition of the compute core, see <a class="reference internal" href="../PowerControlFunction/index.html#powermodeset"><span class="std std-ref">Power control function</span></a>.
Set the number of nodes requested for the job to be less than or equal to the number of nodes that can be specified as Retention in the calculation core, and then submit the job.</p>
<p>If you want to run the job without changing the number of request nodes, you can either ignore this message or change the setting ``-L retention _ state = 0``
Submit the specified job.</p>
</div></blockquote>
</section>
<section id="refer-to-job-execution-result">
<h2><span class="section-number">5.2.2. </span>Refer to job execution result<a class="headerlink" href="#refer-to-job-execution-result" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">When the job is completed, the job execution result is output to a file in the current directory when the job is submitted.</div>
<div class="line">When you use <strong class="program">mpiexec</strong> command, a standard output file and a standard error output file are created for each <strong class="program">mpiexec</strong> command.</div>
</div>
<p>The output format of the job execution result file name is as follows.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Style</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Job name.Job ID.out</p></td>
<td><p>Data written to the standard output by the job.</p></td>
</tr>
<tr class="row-odd"><td><p>Job name.Job ID.err</p></td>
<td><p>Data written by the job to the standard error output.</p></td>
</tr>
<tr class="row-even"><td><p>Job name.Job ID.stats</p></td>
<td><p>This file contains job statistical information.</p>
<p>This will be outputted if <code class="docutils literal notranslate"><span class="pre">-s</span></code>, <code class="docutils literal notranslate"><span class="pre">-S</span></code> option is specified when submitting job.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<ul class="simple">
<li><p>Job name is job script file name which specified with <strong class="program">pjsub</strong> command.</p></li>
<li><p>If the job name starts with a single-byte number, the character “J” is added to the beginning of the output file name.</p></li>
<li><p>In the output file name, the job name part (including the letter “J” added at the beginning) is limited to 63 characters.</p></li>
<li><p>If a job is submitted from the standard input instead of a job script, the job name will be “STDIN”.</p></li>
</ul>
</div>
<p>Example) Job execution result file name</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjsub<span class="w"> </span>-s<span class="w"> </span>./sample.sh<span class="w">        </span><span class="c1"># Submit a job</span>
<span class="go">[INFO] PJM 0000 pjsub Job 9714 submitted.</span>

<span class="gp">[_LNlogin]$ </span>ls<span class="w"> </span>-l<span class="w">                       </span><span class="c1"># Confirm Job output result</span>
<span class="go">sample.sh.9714.err                      # The result file of the job standard error output</span>
<span class="go">sample.sh.9714.out                      # The result file of the job standard output</span>
<span class="go">sample.sh.9714.stats                    # The output file of the job analysis information</span>
</pre></div>
</div>
<p>The output format of <strong class="program">mpiexec</strong> command standard output file / standard error output file is as follows.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 35.0%" />
<col style="width: 65.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Format</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Job name.Job ID.out.<em>mpiexec</em>.<em>rank</em></p></td>
<td><p>The data written to the standard output by the <strong class="program">mpiexec</strong> command. <em>mpiexec</em> is a number indicating how many times the <strong class="program">mpiexec</strong> command is executed in the job script.
<em>rank</em> is the rank number.</p></td>
</tr>
<tr class="row-odd"><td><p>Job name.Job ID.err.<em>mpiexec</em>.<em>rank</em></p></td>
<td><p>The data written to the standard error output by the <strong class="program">mpiexec</strong> command. <em>mpiexec</em> is a number indicating how many times the <strong class="program">mpiexec</strong> command is executed in the job script.
<em>rank</em> is the rank number.</p></td>
</tr>
</tbody>
</table>
<p>The default is not to create a file if there is no output to standard output/standard error output.</p>
<p>Example）Job execution result file name</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjsub<span class="w"> </span>-s<span class="w"> </span>./job_mpi.sh<span class="w">       </span><span class="c1"># Job submission</span>
<span class="go">[INFO] PJM 0000 pjsub Job 717011 submitted.</span>

<span class="gp">[_LNlogin]$ </span>ls<span class="w"> </span>-l<span class="w">                       </span><span class="c1"># Check the output result of the job</span>
<span class="go">-rw-r--r-- 1 username group     0 Jul 10 08:45 job_mpi.sh.717011.err</span>
<span class="go">-rw-r--r-- 1 username group  2635 Jul 10 08:45 job_mpi.sh.717011.out</span>
<span class="go">-rw-r--r-- 1 username group    70 Jul 10 08:45 job_mpi.sh.717011.out.1.0</span>
<span class="go">-rw-r--r-- 1 username group 11193 Jul 10 08:45 job_mpi.sh.717011.stats</span>
</pre></div>
</div>
<p>When using the <strong class="program">mpiexec</strong> command, it is recommended to specify the output file by using the option of <strong class="program">mpiexec</strong> command as shown in <a class="reference internal" href="../MPI/InputOutputRedirection.html#stdoutstderroutstdin"><span class="std std-ref">Standard output / Standard error output / Standard input</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>During continuous use, the disk area resources (i-node, etc.) may be exhausted by increasing in the number of files.
It is recommended to reduce the number of files as appropriate by collecting output files each time with tar etc. or deleting them if unnecessary.</p>
</div>
</section>
<section id="statistical-information">
<span id="jobexecutionstatisticalinformation"></span><h2><span class="section-number">5.2.3. </span>Statistical information<a class="headerlink" href="#statistical-information" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">If <code class="docutils literal notranslate"><span class="pre">-s</span></code> or <code class="docutils literal notranslate"><span class="pre">-S</span></code> option is specified when a job is submitted, job statistical information can be obtained in a file.</div>
<div class="line">See below for details on job statistics.</div>
</div>
<ul class="simple">
<li><p>“Job Operation Software End-user’s Guide”</p></li>
<li><p>“Job Operation Software Command Reference” - “3.3.2 pjstatsinfo”</p></li>
<li><p><strong class="command">man</strong>manual <code class="docutils literal notranslate"><span class="pre">pjstatsinfo(7)</span></code></p></li>
</ul>
<p>[Specification example when submitting a job]</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>pjsub<span class="w"> </span>-s<span class="w"> </span>./sample.sh<span class="w">    </span><span class="c1"># Specify -s or -S when submitting a job</span>
</pre></div>
</div>
<p>[Specification example of by a job script]</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1">#PJM -L &quot;node=1&quot;</span>
<span class="c1">#PJM -L &quot;rscgrp=small&quot;</span>
<span class="c1">#PJM -L &quot;elapse=60:00&quot;</span>
<span class="c1">#PJM -g groupname</span>
<span class="c1">#PJM -x PJM_LLIO_GFSCACHE=/vol000N</span>
<span class="c1">#PJM -S                # Direction of output statistic information file (-s or -S)</span>

./a.out
</pre></div>
</div>
<p>[The detail of statistical information]</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>man<span class="w"> </span>pjstatsinfo
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">5.2. Normal job</a><ul>
<li><a class="reference internal" href="#submitting-a-job">5.2.1. Submitting a job</a></li>
<li><a class="reference internal" href="#refer-to-job-execution-result">5.2.2. Refer to job execution result</a></li>
<li><a class="reference internal" href="#statistical-information">5.2.3. Statistical information</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Overview.html"
                          title="previous chapter"><span class="section-number">5.1. </span>Overview</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="StepJob.html"
                          title="next chapter"><span class="section-number">5.3. </span>Step job</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="StepJob.html" title="5.3. Step job"
             >next</a></li>
        <li class="right" >
          <a href="Overview.html" title="5.1. Overview"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Supercomputer Fugaku User Guide - Use and job execution -  documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" ><span class="section-number">5. </span>Job execution</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">5.2. </span>Normal job</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, RIKEN Center for Computational Science.
    &nbsp;&nbsp;<a href="https://www.fugaku.r-ccs.riken.jp/en/">Fugaku website Top</a>
    </div>
  </body>
</html>