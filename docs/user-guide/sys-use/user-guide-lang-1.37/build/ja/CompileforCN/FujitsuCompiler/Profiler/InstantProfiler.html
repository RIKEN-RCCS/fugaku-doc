

<!doctype html>

<html lang="ja" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>3.1.11.3. 基本プロファイラ &#8212; 利用手引書 言語開発環境編  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/bizstyle.css?v=532c1bf3" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=89e52957" />
    
    <script src="../../../_static/documentation_options.js?v=c033477b"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/translations.js?v=4dbe4bdc"></script>
    <script src="../../../_static/bizstyle.js"></script>
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="3.1.11.4. CPU性能解析レポート" href="CPUPerformanceAnalysisReport.html" />
    <link rel="prev" title="3.1.11.2. 詳細プロファイラ" href="AdvancedProfiler.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="CPUPerformanceAnalysisReport.html" title="3.1.11.4. CPU性能解析レポート"
             accesskey="N">次へ</a></li>
        <li class="right" >
          <a href="AdvancedProfiler.html" title="3.1.11.2. 詳細プロファイラ"
             accesskey="P">前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">利用手引書 言語開発環境編  ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" ><span class="section-number">3. </span>計算ノード向けバイナリを生成するコンパイラ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">3.1. </span>富士通コンパイラ</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" accesskey="U"><span class="section-number">3.1.11. </span>プロファイラ</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.1.11.3. </span>基本プロファイラ</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="id1">
<h1><span class="section-number">3.1.11.3. </span>基本プロファイラ<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h1>
<p>基本プロファイラは、サンプリング解析でプログラム全体の統計情報を計測および出力を行います。</p>
<section id="id2">
<h2><span class="section-number">3.1.11.3.1. </span>概要<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h2>
<p>基本プロファイラはプロファイルデータを計測する<strong class="program">fipp</strong>コマンドと、計測したデータからプロファイル結果を出力する<strong class="program">fipppx</strong>コマンドの2つから構成されます。基本プロファイラが出力可能な統計情報は以下のとおりです。</p>
<ul class="simple">
<li><p>時間統計情報</p></li>
<li><p>CPU動作状況</p></li>
<li><p>コスト情報</p></li>
<li><p>コールグラフ情報</p></li>
<li><p>ソースコード情報</p></li>
</ul>
<p>詳細プロファイラの使用の流れは以下のとおりです。</p>
<figure class="align-default">
<img alt="../../../_images/InstantProfiler_01.png" src="../../../_images/InstantProfiler_01.png" />
</figure>
</section>
<section id="id3">
<h2><span class="section-number">3.1.11.3.2. </span>計測区間指定ルーチンの追加<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">指定した区間のプロファイルデータを計測するには、計測区間指定ルーチン／関数をソースコードに追加します。</div>
<div class="line">計測区間指定機能は、Fortran言語のサブルーチン、C／C++の関数として使用可能です。</div>
<div class="line">C／C++の関数を使用する場合は、関数のプロトタイプを宣言するか、または、プロファイラサブルーチンのヘッダファイルをインクルードする必要があります。</div>
</div>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 20.0%" />
<col style="width: 30.0%" />
<col style="width: 10.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>言語種別</p></th>
<th class="head"><p>ヘッダファイル</p></th>
<th class="head"><p>サブルーチン／関数名</p></th>
<th class="head"><p>引数</p></th>
<th class="head"><p>機能</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Fortran</p></td>
<td><p>なし</p></td>
<td><div class="line-block">
<div class="line">fipp_start</div>
<div class="line">fipp_stop</div>
</div>
</td>
<td><p>なし</p></td>
<td><div class="line-block">
<div class="line">コスト情報測定開始</div>
<div class="line">コスト情報測定終了</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>C/C++</p></td>
<td><p>fj_tool/fipp.h</p></td>
<td><div class="line-block">
<div class="line">void fipp_start</div>
<div class="line">void fipp_stop</div>
</div>
</td>
<td><p>なし</p></td>
<td><div class="line-block">
<div class="line">コスト情報測定開始</div>
<div class="line">コスト情報測定終了</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<ul class="simple">
<li><p>これらのサブルーチン／関数を利用して測定データを収集するには、<code class="docutils literal notranslate"><span class="pre">fipp</span></code>コマンドに、<code class="docutils literal notranslate"><span class="pre">-Sregion</span></code>オプションを指定してください。</p></li>
<li><p>これらのサブルーチン／関数を複数回呼び出す場合、必ず fipp_start、fipp_stop の順番で呼び出してください。fipp_stop を呼び出す前に再度 fipp_start を呼び出した場合、または fipp_start を呼び出す前に fipp_stop を呼び出した場合、警告メッセージを出力してその呼び出しを無視します。また、fipp_stop を呼び出さずにプロセスが終了した場合、その区間のプロファイルデータは計測しません。</p></li>
<li><p>これらのサブルーチン／関数を複数回呼び出した場合、指定したすべての計測区間の結果を合算します。</p></li>
<li><p>MPIプログラムの場合、計測対象にしたいすべてのプロセスでこれらのサブルーチン／関数を呼び出してください。呼び出しが行われなかったプロセスのプロファイルデータは計測しません。</p></li>
</ul>
</div>
</div></blockquote>
<p>計測区間指定ルーチンの使用例を示します。</p>
<ul>
<li><p>Fortranの例</p>
<ol class="arabic simple">
<li><p>サンプル指定例</p></li>
</ol>
<blockquote>
<div><div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">program </span><span class="n">main</span>
<span class="p">...</span>
<span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">call </span><span class="n">fipp_start</span><span class="w">   </span><span class="c">! 計測を開始する</span>
<span class="w">  </span><span class="k">do </span><span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">end do</span>
<span class="k">  call </span><span class="n">fipp_stop</span><span class="w">    </span><span class="c">! 計測を終了する</span>
<span class="k">end do</span>
<span class="k">end program </span><span class="n">main</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>すべてのプロセスを計測対象とする例（mpi_initサブルーチンを呼び出す前に計測を開始する）</p></li>
</ol>
<blockquote>
<div><div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">call </span><span class="n">fipp_start</span><span class="w">     </span><span class="c">! 計測を開始する</span>
<span class="k">call </span><span class="n">mpi_init</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="p">...</span>
<span class="k">call </span><span class="n">mpi_finalize</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="k">call </span><span class="n">fipp_stop</span><span class="w">      </span><span class="c">! 計測を終了する</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>すべてのプロセスを計測対象とする例（mpi_initサブルーチンを呼び出した直後に計測を開始する）</p></li>
</ol>
<blockquote>
<div><div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">call </span><span class="n">mpi_init</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="k">call </span><span class="n">fipp_start</span><span class="w">     </span><span class="c">! 計測を開始する</span>
<span class="p">...</span>
<span class="k">call </span><span class="n">fipp_stop</span><span class="w">      </span><span class="c">! 計測を終了する</span>
<span class="k">call </span><span class="n">mpi_finalize</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>プロセス0のみ計測対象とする例</p></li>
</ol>
<blockquote>
<div><div class="highlight-fortran notranslate"><div class="highlight"><pre><span></span><span class="k">call </span><span class="n">mpi_init</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
<span class="k">call </span><span class="n">mpi_comm_rank</span><span class="p">(</span><span class="n">mpi_comm_world</span><span class="p">,</span><span class="n">rank</span><span class="p">,</span><span class="n">err</span><span class="p">)</span>
<span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">  call </span><span class="n">fipp_start</span><span class="w">   </span><span class="c">! プロセス0のみ、計測を開始する</span>
<span class="k">end if</span>
<span class="w">  </span><span class="p">...</span>
<span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">then</span>
<span class="k">  call </span><span class="n">fipp_stop</span><span class="w">    </span><span class="c">! プロセス0のみ、計測を終了する</span>
<span class="k">end if</span>
<span class="k">call </span><span class="n">mpi_finalize</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>C/C++の例</p>
<ol class="arabic simple">
<li><p>サンプル指定例</p></li>
</ol>
<blockquote>
<div><div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;fj_tool/fipp.h&quot;</span><span class="c1"> // ヘッダーファイルのインクルード</span>
<span class="p">...</span>
<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="mi">10000</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
<span class="w">    </span><span class="p">...</span>
<span class="w">    </span><span class="n">fipp_start</span><span class="p">();</span><span class="w">   </span><span class="c1">// 計測を開始する</span>
<span class="w">    </span><span class="k">for</span><span class="p">(</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="mi">10000</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
<span class="w">       </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">fipp_stop</span><span class="p">();</span><span class="w">    </span><span class="c1">// 計測を終了する</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>すべてのプロセスを計測対象とする例（MPI_Init関数を呼び出す前に計測を開始する）</p></li>
</ol>
<blockquote>
<div><div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">fipp_start</span><span class="p">();</span><span class="w">       </span><span class="c1">// 計測を開始する</span>
<span class="n">MPI_Init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span>
<span class="p">...</span>
<span class="n">MPI_Finalize</span><span class="p">();</span>
<span class="n">fipp_stop</span><span class="p">();</span><span class="w">        </span><span class="c1">// 計測を終了する</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>すべてのプロセスを計測対象とする例（MPI_Init関数を呼び出した直後に計測を開始する）</p></li>
</ol>
<blockquote>
<div><div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">MPI_Init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span>
<span class="n">fipp_start</span><span class="p">();</span><span class="w">       </span><span class="c1">// 計測を開始する</span>
<span class="p">...</span>
<span class="n">fipp_stop</span><span class="p">();</span><span class="w">        </span><span class="c1">// 計測を終了する</span>
<span class="n">MPI_Finalize</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>プロセス0のみ計測対象とする例</p></li>
</ol>
<blockquote>
<div><div class="highlight-C notranslate"><div class="highlight"><pre><span></span><span class="n">MPI_Init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">argv</span><span class="p">);</span>
<span class="n">MPI_Comm_rank</span><span class="p">(</span><span class="n">MPI_COMM_WORLD</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rank</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
<span class="w">  </span><span class="n">fipp_start</span><span class="p">();</span><span class="w">     </span><span class="c1">// プロセス0のみ、計測を開始する</span>
<span class="p">}</span>
<span class="p">...</span>
<span class="k">if</span><span class="p">(</span><span class="n">rank</span><span class="o">==</span><span class="mi">0</span><span class="p">){</span>
<span class="w">  </span><span class="n">fipp_stop</span><span class="p">();</span><span class="w">      </span><span class="c1">// プロセス0のみ、計測を終了する</span>
<span class="p">}</span>
<span class="n">MPI_Finalize</span><span class="p">();</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="id4">
<h2><span class="section-number">3.1.11.3.3. </span>コンパイル／リンク<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">基本プロファイラ機能を利用するために必要なツールライブラリは、コンパイル／リンク時にデフォルトでリンクされます。</div>
<div class="line">したがって、コンパイル／リンク時にプロファイラ用のオプション等はありません。</div>
<div class="line">なお、コンパイル／リンクはログインノード、または、計算ノードで行います。</div>
</div>
<ul class="simple">
<li><p>コンパイル／リンク例（MPIプログラムの場合）</p></li>
</ul>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>mpifrtpx<span class="w"> </span>-Kfast,parallel<span class="w"> </span><span class="s2">&quot;ソースファイル名&quot;</span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>コンパイル／リンク例（逐次／スレッド並列プログラムの場合）</p></li>
</ul>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>frtpx<span class="w"> </span>-Kfast,parallel<span class="w"> </span><span class="s2">&quot;ソースファイル名&quot;</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>分割コンパイルを行う場合は、適切なプロファイラのライブラリがリンクされるように、原則としてコンパイル時に指定した最適化オプションは、リンク時にも指定してください。</p>
<p>例）OpenMPを利用するプログラムは、リンク時にも<code class="docutils literal notranslate"><span class="pre">-Kopenmp</span></code>オプションを指定する。</p>
</div>
</div></blockquote>
<section id="fortran">
<h3><span class="section-number">3.1.11.3.3.1. </span>Fortranの翻訳時オプションについて<a class="headerlink" href="#fortran" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Fortranプログラムを翻訳する際に使用するプロファイラ向け翻訳時オプションを以下に示します。</div>
<div class="line">本オプションはリンク時に有効になります。</div>
</div>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>オプション</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-Nfjprof</p></td>
<td><p>ツールライブラリを結合します。
省略時は<code class="docutils literal notranslate"><span class="pre">-Nfjprof</span></code>が有効になります。</p></td>
</tr>
<tr class="row-odd"><td><p>-Nnofjprof</p></td>
<td><p>ツールライブラリを結合しません。
プロファイラを使用できません。</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="c-c">
<h3><span class="section-number">3.1.11.3.3.2. </span>C/C++の翻訳時オプションについて<a class="headerlink" href="#c-c" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">C／C++言語の場合、tradモードとclangモードという2種類のコンパイルモードが存在します。</div>
<div class="line">以下に、プログラムを翻訳する際に使用するプロファイラ向けの翻訳時オプションをモードごとに示します。</div>
<div class="line">本オプションはリンク時に有効になります。</div>
</div>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 20.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>モード</p></th>
<th class="head"><p>オプション</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>trad</p></td>
<td><p>-Nfjprof</p></td>
<td><p>ツールライブラリを結合します。省略時は<code class="docutils literal notranslate"><span class="pre">-Nfjprof</span></code>が有効になります。</p></td>
</tr>
<tr class="row-odd"><td><p>trad</p></td>
<td><p>-Nnofjprof</p></td>
<td><p>ツールライブラリを結合しません。プロファイラは使用できません。</p></td>
</tr>
<tr class="row-even"><td><p>clang</p></td>
<td><p>-ffj-fjprof</p></td>
<td><p>ツールライブラリを結合します。省略時は<code class="docutils literal notranslate"><span class="pre">-ffj-fjprof</span></code>が有効になります。</p></td>
</tr>
<tr class="row-odd"><td><p>clang</p></td>
<td><p>-ffj-no-fjprof</p></td>
<td><p>ツールライブラリを結合しません。プロファイラは使用できません。</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
</section>
<section id="id5">
<h2><span class="section-number">3.1.11.3.4. </span>プロファイルデータの計測<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h2>
<div class="line-block">
<div class="line">プロファイルデータは、<strong class="program">fipp</strong>コマンドを使用して計測します。</div>
<div class="line">本操作は計算ノードで実施します。</div>
</div>
<p><strong class="program">fipp</strong>コマンドの実行例を示します。</p>
<blockquote>
<div><p>[条件]</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fipp</span></code>コマンドは、実行モジュール（<code class="file docutils literal notranslate"><span class="pre">a.out</span></code>）を指定している箇所に追加</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-d</span></code>オプションで指定したディレクトリ(<code class="file docutils literal notranslate"><span class="pre">profiling_data</span></code>)にデータを収集</p></li>
</ul>
<p>[MPIプログラム]</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1">#</span>
<span class="c1">#PJM -L &quot;node=2x2x2&quot;</span>
<span class="c1">#PJM -L &quot;rscgrp=small&quot;</span>
<span class="c1">#PJM -L &quot;elapse=01:00:00&quot;</span>
<span class="c1">#PJM -x PJM_LLIO_GFSCACHE=/vol000N</span>
<span class="c1">#PJM -g groupname</span>
<span class="c1">#PJM -s</span>
<span class="c1">#</span>
fipp<span class="w"> </span>-C<span class="w"> </span>-d<span class="w"> </span>profiling_data<span class="w"> </span>-Icall,mpi<span class="w"> </span>mpiexec<span class="w"> </span>./a.out
</pre></div>
</div>
<p>[逐次／スレッド並列プログラム]</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1">#</span>
<span class="c1">#PJM -L &quot;node=1&quot;</span>
<span class="c1">#PJM -L &quot;rscgrp=small&quot;</span>
<span class="c1">#PJM -L &quot;elapse=01:00:00&quot;</span>
<span class="c1">#PJM -x PJM_LLIO_GFSCACHE=/vol000N</span>
<span class="c1">#PJM -g groupname</span>
<span class="c1">#PJM -s</span>
<span class="c1">#</span>
fipp<span class="w"> </span>-C<span class="w"> </span>-d<span class="w"> </span>profiling_data<span class="w"> </span>-Icall,cpupa<span class="w"> </span>./a.out
</pre></div>
</div>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p><strong class="program">fipp</strong>コマンドにより計測したプロファイルデータに対して以下を行った場合、動作保証しません。</p>
<ul class="simple">
<li><p>プロファイルデータの編集</p></li>
<li><p>プロファイルデータの追加、削除、リネーム</p></li>
</ul>
</div>
</div></blockquote>
</section>
<section id="id6">
<h2><span class="section-number">3.1.11.3.5. </span>プロファイラのオプション<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h2>
<p><strong class="program">fipp</strong>コマンドのオプションについて説明します。</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>オプション</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">-C</div>
<div class="line">(必須オプション)</div>
</div>
</td>
<td><p>プロファイルデータの計測を指示します。本オプションを省略した場合、エラーメッセージを出力しプログラムの実行を終了します。</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-d  <em>profile_data</em></div>
<div class="line">(必須オプション)</div>
</div>
</td>
<td><div class="line-block">
<div class="line">プロファイルデータを格納するディレクトリを指定します。本オプションを省略した場合、エラーメッセージを出力しプログラムの実行を終了します。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">profile_data</span></code>にはプロファイルデータを格納するディレクトリ名を相対、または、絶対パスで指定します。指定したディレクトリは新規作成、または、空のディレクトリでなければいけません。</div>
<div class="line">実行中にカレントディレクトリを移動するプログラムを解析する場合、<code class="docutils literal notranslate"><span class="pre">profile_data</span></code>は絶対パスで指定してください。</div>
<div class="line">プロファイラは<code class="docutils literal notranslate"><span class="pre">profile_data</span></code>の下に1000ファイルごとのサブディレクトリを作成します。このため、大規模ジョブが対象の場合も<code class="docutils literal notranslate"><span class="pre">profile_data</span></code>を指定するだけで使用できます。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>exec-file [ exec_option ... ]</p></td>
<td><p>プロファイルデータの計測対象となる実行ファイルとオプションを指定します。MPIプログラムの場合、<strong class="program">mpiexec</strong>から指定します。</p></td>
</tr>
<tr class="row-odd"><td><p>-H[mode={all|user}]</p></td>
<td><p>CPU動作状況の計測内容について指定します。サブオプション<code class="docutils literal notranslate"><span class="pre">mode=</span></code>には、<code class="docutils literal notranslate"><span class="pre">all</span></code>、または、<code class="docutils literal notranslate"><span class="pre">user</span></code>のどちらか1つを指定します。本オプション、または、サブオプション<code class="docutils literal notranslate"><span class="pre">mode={all|user}</span></code>省略時は、<code class="docutils literal notranslate"><span class="pre">mode=all</span></code>が有効になります。</p>
<dl class="simple">
<dt>mode=all</dt><dd><p>カーネルモードおよびユーザーモードにおける計測を行います。</p>
</dd>
<dt>mode=user</dt><dd><p>ユーザーモードにおける情報計測を行います。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">-I<em>item</em></div>
<div class="line">（ハイフン＋大文字アイ）</div>
</div>
</td>
<td><div class="line-block">
<div class="line">基本プロファイラで計測する項目を指定します。複数の<em>item</em>を指定する場合は、カンマで区切ってください。</div>
<div class="line"><em>item</em> ：{{<code class="docutils literal notranslate"><span class="pre">call</span></code> | <code class="docutils literal notranslate"><span class="pre">nocall</span></code>} | {<code class="docutils literal notranslate"><span class="pre">cpupa</span></code> | <code class="docutils literal notranslate"><span class="pre">nocpupa</span></code>} | {<code class="docutils literal notranslate"><span class="pre">mpi</span></code> | <code class="docutils literal notranslate"><span class="pre">nompi</span></code>}}</div>
</div>
<dl class="simple">
<dt>call：</dt><dd><p>コールグラフ情報を収集します。</p>
</dd>
<dt>nocall：</dt><dd><p>コールグラフ情報を収集しません。省略時は<code class="docutils literal notranslate"><span class="pre">-Inocall</span></code>が有効になります。</p>
</dd>
<dt>cpupa：</dt><dd><p>CPU動作状況を計測します。省略時は<code class="docutils literal notranslate"><span class="pre">-Icpupa</span></code>が有効になります。</p>
</dd>
<dt>nocpupa：</dt><dd><p>CPU動作状況を計測しません。</p>
</dd>
<dt>mpi：</dt><dd><p>MPIコスト情報を計測します。対象がMPIプログラムの場合の省略時は<code class="docutils literal notranslate"><span class="pre">-Impi</span></code>が有効になります。</p>
</dd>
<dt>nompi：</dt><dd><p>MPIコスト情報を計測しません。対象が非MPIプログラムの場合の省略時は<code class="docutils literal notranslate"><span class="pre">-Inompi</span></code>が有効になります。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>-i <em>interval</em></p></td>
<td><p>プロファイルデータを計測するサンプリング間隔を指定します。<em>interval</em> にはサンプリング間隔を整数値(ミリ秒単位)で指定します。本オプション省略時は、<code class="docutils literal notranslate"><span class="pre">-i</span> <span class="pre">100</span></code>オプションが有効になります。<code class="docutils literal notranslate"><span class="pre">interval</span></code>には、10から3,600,000 の範囲の整数値を指定します。</p></td>
</tr>
<tr class="row-even"><td><p>-L{shared | noshared}</p></td>
<td><p>翻訳時オプション<code class="docutils literal notranslate"><span class="pre">-Nline</span></code>を指定して生成した共有ライブラリの計測方法を指定します。</p>
<dl class="simple">
<dt>shared</dt><dd><p>行情報付き共有ライブラリ内の以下の情報を計測します。</p>
<ul class="simple">
<li><p>手続の開始行番号</p></li>
<li><p>手続の終了行番号</p></li>
<li><p>ループコスト分布情報</p></li>
<li><p>行コスト分布情報</p></li>
</ul>
</dd>
<dt>noshared</dt><dd><p>行情報付き共有ライブラリ内の情報を計測しません。省略時は<code class="docutils literal notranslate"><span class="pre">-Lnoshared</span></code>が有効になります。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>-l <em>limit</em></p></td>
<td><div class="line-block">
<div class="line">手続情報の計測件数を指定します。</div>
<div class="line">出力件数以上の手続情報は、<code class="docutils literal notranslate"><span class="pre">__other__</span></code>として合算して計測します。</div>
<div class="line">本オプション省略時は、<code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">0</span></code>オプションが有効になります。<code class="docutils literal notranslate"><span class="pre">limit</span></code> には、0から2,147,483,647の範囲の整数値を指定します。<code class="docutils literal notranslate"><span class="pre">limit</span></code>に 0 を指定した場合、全件を計測します。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>-m <em>memsize</em></p></td>
<td><div class="line-block">
<div class="line">計測時に使用する作業用メモリサイズを整数値（KB単位）で指定します。</div>
<div class="line">作業用メモリの領域はスレッドごとに確保します。</div>
<div class="line">本オプション省略時は、<code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">3000</span></code>オプションが有効になります。<code class="docutils literal notranslate"><span class="pre">memsize</span></code>には、1から2,147,483 の範囲の整数値を指定します。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>-P{userfunc | nouserfunc}</p></td>
<td><p>翻訳時オプション<code class="docutils literal notranslate"><span class="pre">-Nline</span></code>または<code class="docutils literal notranslate"><span class="pre">-ffj-line</span></code>を指定したオブジェクト(以降、行情報付きオブジェクトと呼びます)と翻訳時オプション<code class="docutils literal notranslate"><span class="pre">-Nnoline</span></code>または<code class="docutils literal notranslate"><span class="pre">-ffj-no-line</span></code>を指定したオブジェクト(以降、行情報なしオブジェクトと呼びます)が混在している場合の手続コストの計上方法を指定します。標準ライブラリまたは<code class="docutils literal notranslate"><span class="pre">-Lnoshared</span></code>指定時の共有ライブラリは行情報なしオブジェクトとして扱います。</p>
<dl class="simple">
<dt>userfunc</dt><dd><p>行情報なしオブジェクトの手続にコストが計上された場合、コールグラフ情報から行情報なしオブジェクトの手続を呼び出した手続を遡ります。行情報付きのオブジェクトの手続が存在した場合、その手続にコストを計上します。行情報付きのオブジェクトの手続が存在しなかった場合、コストは計上しません。<code class="docutils literal notranslate"><span class="pre">-Puserfunc</span></code>オプション指定時は、<code class="docutils literal notranslate"><span class="pre">-Icall</span></code>オプションも同時に指定しなければなりません。<code class="docutils literal notranslate"><span class="pre">-Icall</span></code>オプションを指定しない場合、エラーメッセージを出力し収集コマンドの処理を終了します。</p>
</dd>
<dt>nouserfunc</dt><dd><p>行情報なしオブジェクトの手続にコストが計上された場合、その手続にコストを計上します。ただし、手続開始行、手続終了行は出力しません。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>-S{all | region}</p></td>
<td><p>プロファイルデータの計測区間を指定します。</p>
<dl class="simple">
<dt>all</dt><dd><p>プログラム全体を計測します。省略時は<code class="docutils literal notranslate"><span class="pre">-Sall</span></code>が有効になります。</p>
</dd>
<dt>region</dt><dd><p>計測区間指定ルーチンで指定した区間内を計測します。ソースコード内に計測区間指定ルーチンを挿入する必要があります。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>-W{spawn|nospawn}</p></td>
<td><p>動的生成されたプロセスに対する計測方法を指定します。省略時の指定は、MPIプログラムの場合、<code class="docutils literal notranslate"><span class="pre">-Wspawn</span></code>オプションが有効になり、非MPIプログラムの場合、<code class="docutils literal notranslate"><span class="pre">-Wnospawn</span></code>オプションが有効になります。</p>
<dl class="simple">
<dt>spawn</dt><dd><p>動的生成されたプロセスの統計情報を計測します。</p>
</dd>
<dt>nospawn</dt><dd><p>動的生成されたプロセスの統計情報を計測しません。</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
</section>
<section id="id7">
<h2><span class="section-number">3.1.11.3.6. </span>プロファイル結果の出力<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h2>
<p><strong class="program">fipppx</strong>コマンドを使用して、<strong class="program">fipp</strong>コマンドで計測したプロファイルデータの結果を出力します。</p>
<p>本操作は使用するノードによって異なるコマンドを使用します。</p>
<ul class="simple">
<li><dl class="simple">
<dt>ログインノードの場合</dt><dd><p><strong class="program">fipppx</strong>コマンドを使用します。</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>計算ノードの場合</dt><dd><p><strong class="program">fipp</strong>コマンドを使用します。</p>
</dd>
</dl>
</li>
</ul>
<p><strong class="program">fipppx</strong>コマンドの実行例を以下に示します。</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[_LNlogin]$ </span>fipppx<span class="w"> </span>-A<span class="w"> </span>-pall<span class="w"> </span>-Ibalance,call<span class="w"> </span>-d<span class="w"> </span>profiling_data
</pre></div>
</div>
<div class="line-block">
<div class="line">この例では、全てのプロセスの情報を出力する指定（<code class="docutils literal notranslate"><span class="pre">-pall</span></code>）をしています。</div>
<div class="line">高並列で実行した結果では、全てのプロセスを出力対象にすると出力が膨大になる場合があります。着目するプロセスがあらかじめ分かっている場合は、<code class="docutils literal notranslate"><span class="pre">-p0,1</span></code>（プロセス0と１）のようにプロセス番号を指定して出力することもできます。</div>
</div>
<section id="fipppx">
<h3><span class="section-number">3.1.11.3.6.1. </span>fipppxコマンドのオプション<a class="headerlink" href="#fipppx" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 27.3%" />
<col style="width: 72.7%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>オプション</p></th>
<th class="head"><p>機能・測定値（単位）</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="line-block">
<div class="line">-A</div>
<div class="line">(必須オプション)</div>
</div>
</td>
<td><p>プロファイル結果の出力処理を指示します。</p></td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-d  <em>profile_data</em></div>
<div class="line">(必須オプション)</div>
</div>
</td>
<td><p>プロファイルデータを格納したディレクトリを、 <em>profile_data</em> に相対パスまたは絶対パスで指定します。</p></td>
</tr>
<tr class="row-even"><td><p>-f <em>func_name</em></p></td>
<td><div class="line-block">
<div class="line">プログラムが使用している手続名を <em>func_name</em> に指定して、<em>func_name</em> に関する情報を出力します。</div>
<div class="line">ただし、<strong class="program">fipp</strong>コマンドで、<em>func_name</em> の手続に関する情報を計測していない、または、 <em>func_name</em> の手続コストが 0 の場合、<code class="docutils literal notranslate"><span class="pre">-ffunc_name</span></code>を指定しても情報は出力されません。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><div class="line-block">
<div class="line">-I<em>item</em></div>
<div class="line">（ハイフン＋大文字アイ）</div>
</div>
</td>
<td><div class="line-block">
<div class="line">プロファイル結果の出力対象とする項目を指定します。</div>
<div class="line">複数の<em>item</em>を指定する場合は、カンマで区切ってください。</div>
<div class="line">item：{{<code class="docutils literal notranslate"><span class="pre">balance</span></code> | <code class="docutils literal notranslate"><span class="pre">nobalance}|</span></code>} | {<code class="docutils literal notranslate"><span class="pre">call</span></code> | <code class="docutils literal notranslate"><span class="pre">nocall}|</span></code>} | {<code class="docutils literal notranslate"><span class="pre">cpupa</span></code> | <code class="docutils literal notranslate"><span class="pre">nocpupa}|</span></code>} | {<code class="docutils literal notranslate"><span class="pre">mpi</span></code> | <code class="docutils literal notranslate"><span class="pre">nompi</span></code>} | {<code class="docutils literal notranslate"><span class="pre">src[:path</span> <span class="pre">]</span></code> | <code class="docutils literal notranslate"><span class="pre">nosrc}}</span></code>}}</div>
</div>
<dl class="simple">
<dt>balance：</dt><dd><p>コスト情報にコストバランス情報を出力します。ただし、逐次プログラムの場合、または、<code class="docutils literal notranslate"><span class="pre">-txml</span></code>オプションを指定した場合、<code class="docutils literal notranslate"><span class="pre">-Ibalance</span></code>オプションを指定してもコストバランス情報は出力されません。</p>
</dd>
<dt>nobalance：</dt><dd><p>コスト情報にコストバランス情報を出力しません。省略時は<code class="docutils literal notranslate"><span class="pre">-Inobalance</span></code>が有効になります。</p>
</dd>
<dt>call：</dt><dd><p>コールグラフ情報を出力します。</p>
</dd>
<dt>nocall：</dt><dd><p>コールグラフ情報を出力しません。省略時は<code class="docutils literal notranslate"><span class="pre">-Inocall</span></code>が有効になります。</p>
</dd>
<dt>cpupa：</dt><dd><p>CPU動作状況を出力します。省略時は<code class="docutils literal notranslate"><span class="pre">-Icpupa</span></code>が有効になります。</p>
</dd>
<dt>nocpupa：</dt><dd><p>CPU動作状況を出力しません。</p>
</dd>
<dt>mpi：</dt><dd><p>MPIコスト情報を出力します。対象がMPIプログラムの場合の省略時は<code class="docutils literal notranslate"><span class="pre">-Impi</span></code>が有効になります。</p>
</dd>
<dt>nompi：</dt><dd><p>MPIコスト情報を出力しません。対象が非MPIプログラムの場合の省略時は<code class="docutils literal notranslate"><span class="pre">-Inompi</span></code>が有効になります。</p>
</dd>
<dt>src[:path ]：</dt><dd><p>ソースコード情報と行ごとのコストを出力します。行ごとのコストには、<code class="docutils literal notranslate"><span class="pre">-Impi</span></code>オプションで出力するコストは含みません。<code class="docutils literal notranslate"><span class="pre">path</span></code>には、ソースコードが存在するディレクトリパスを指定します。<code class="docutils literal notranslate"><span class="pre">path</span></code>を複数指定する場合、コロン(:)で区切って指定してください。</p>
</dd>
<dt>nosrc：</dt><dd><p>ソースコード情報を出力しません。省略時は<code class="docutils literal notranslate"><span class="pre">-Inosrc</span></code>が有効になります。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><div class="line-block">
<div class="line">-l <em>limit</em></div>
<div class="line">（小文字のエル）</div>
</div>
</td>
<td><div class="line-block">
<div class="line">出力する手続情報の出力件数を指定します。</div>
<div class="line">本オプション省略時は、<code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">10</span></code>オプションが有効になります。</div>
<div class="line"><em>limit</em> には、0から2,147,483,647の範囲の整数値を指定します。<em>limit</em> に 0 を指定した場合、全件を出力します。</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>-o <em>outfile</em></p></td>
<td><div class="line-block">
<div class="line">プロファイル結果の出力先を指定します。<em>outfile</em> には、出力先ファイル名を相対パスまたは絶対パスで指定するか、または、&quot;stdout&quot;を指定します。</div>
<div class="line">本オプション省略時は、<code class="docutils literal notranslate"><span class="pre">-ostdout</span></code>オプションが有効になります。</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>-p<em>p_no</em></p></td>
<td><div class="line-block">
<div class="line">プロファイル結果に出力するプロセスを指定します。</div>
<div class="line"><em>p_no</em> には、<code class="docutils literal notranslate"><span class="pre">N&#64;M</span></code> 、<code class="docutils literal notranslate"><span class="pre">input=n</span></code> 、<code class="docutils literal notranslate"><span class="pre">limit=m</span></code>、<code class="docutils literal notranslate"><span class="pre">all</span></code>の中からいずれか1つ以上を指定します。</div>
<div class="line">本オプション省略時は、<code class="docutils literal notranslate"><span class="pre">-ttext</span></code>オプションが有効な場合は、<code class="docutils literal notranslate"><span class="pre">-pinput=0</span></code>、<code class="docutils literal notranslate"><span class="pre">limit=16</span></code>が有効になり、<code class="docutils literal notranslate"><span class="pre">-txml</span></code>オプションが有効な場合は、<code class="docutils literal notranslate"><span class="pre">-pall</span></code>オプションが有効になります。</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">-p</span></code>オプションにはコンマ(,)を区切りとして、 <em>p_no</em> を複数指定することができます。例えば、<code class="docutils literal notranslate"><span class="pre">-p3,5,limit=10</span></code>のような指定ができます。</div>
</div>
<dl class="simple">
<dt>N[&#64;M]：</dt><dd><p><code class="docutils literal notranslate"><span class="pre">N</span></code> に指定したプロセス番号の情報を先頭に出力します。spawn番号 <code class="docutils literal notranslate"><span class="pre">M</span></code> に所属するプロセス番号 <code class="docutils literal notranslate"><span class="pre">N</span></code> を指定する場合、 <code class="docutils literal notranslate"><span class="pre">N&#64;M</span></code> のように指定します。<code class="docutils literal notranslate"><span class="pre">N[&#64;M]</span></code> に指定したプロセス番号の情報が存在しない場合、指定を無視します。<code class="docutils literal notranslate"><span class="pre">N[&#64;M]</span></code> は複数指定できます。</p>
</dd>
<dt>input=n：</dt><dd><p>コストが高い順に n 件分のプロセスの情報を読み込みます。<code class="docutils literal notranslate"><span class="pre">n</span></code> に 0、またはプロセス数を超えた値を指定した場合、全プロセスの情報を読み込みます。本サブオプション省略時は、<code class="docutils literal notranslate"><span class="pre">input=0</span></code>が有効になります。サブオプション<code class="docutils literal notranslate"><span class="pre">input=n</span></code>とサブオプション<code class="docutils literal notranslate"><span class="pre">limit=m</span></code>は同時に指定できます。</p>
</dd>
<dt>limit=m：</dt><dd><p>コストが高い順に m 件のプロセスの情報を出力します。出力しなかったプロセスの情報は比率計算をする際の分母に含まれます。<code class="docutils literal notranslate"><span class="pre">m</span></code> に 0、または入力となるプロセス数を超える値を指定した場合、全プロセスの情報を出力します。本サブオプション省略時は、<code class="docutils literal notranslate"><span class="pre">limit=16</span></code>が有効になります。</p>
</dd>
<dt>all：</dt><dd><p>すべてのプロセス番号の情報を読み込み、コストが高い順に出力します。<code class="docutils literal notranslate"><span class="pre">-pinput=0,limit=0</span></code>オプションを指定した場合と同じです。サブオプション<code class="docutils literal notranslate"><span class="pre">input=n</span></code>、および、<code class="docutils literal notranslate"><span class="pre">limit=m</span></code>のいずれも指定しない場合、こちらが有効になります。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>-T<em>t_no</em></p></td>
<td><div class="line-block">
<div class="line">プロファイルデータの出力対象とするスレッドを指定します。</div>
<div class="line"><em>t_no</em> には、<code class="docutils literal notranslate"><span class="pre">N</span></code>、<code class="docutils literal notranslate"><span class="pre">limit=n</span></code>、<code class="docutils literal notranslate"><span class="pre">all</span></code>の中からいずれか1つ以上を指定します。<code class="docutils literal notranslate"><span class="pre">-T</span></code>オプションにはコンマ(,)を区切りとして、<code class="docutils literal notranslate"><span class="pre">t_no</span></code>を複数指定することができます。</div>
<div class="line">例えば、<code class="docutils literal notranslate"><span class="pre">-T3,5,limit=10</span></code>のような指定ができます。</div>
</div>
<dl class="simple">
<dt>N[,N] ... ：</dt><dd><p>N に指定したスレッド番号の情報を先頭に出力します。N に指定したスレッドの情報が存在しない場合、指定を無視します。N を複数指定した場合、指定した順番に出力します。</p>
</dd>
<dt>limit=n：</dt><dd><p>コストが高い順に n 件分のスレッド情報を出力します。n に、0または総スレッド数を超える値を指定した場合、全スレッドの情報を出力します。</p>
</dd>
<dt>all：</dt><dd><p>全スレッドの情報を出力します。<code class="docutils literal notranslate"><span class="pre">-Tlimit=0</span></code>オプションを指定した場合と同じです。省略時は、<code class="docutils literal notranslate"><span class="pre">-Tall</span></code>オプションが有効になります。</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>-t{text|xml}</p></td>
<td><p>プロファイル結果の出力形式を指定します。</p>
<dl class="simple">
<dt>text：</dt><dd><p>プロファイル結果をTEXT形式で出力します。省略時は、<code class="docutils literal notranslate"><span class="pre">-ttext</span></code>が有効になります。</p>
</dd>
<dt>xml：</dt><dd><p>プロファイル結果をXML形式で出力します。</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id8">
<h3><span class="section-number">3.1.11.3.6.2. </span>プロファイル結果について<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">プロファイル結果は以下の統計情報から構成されています。</div>
<div class="line">各情報は、<strong class="program">fipppx</strong>コマンドの<code class="docutils literal notranslate"><span class="pre">-I</span></code>オプションによって出力を制御できます。</div>
<div class="line">各項目の詳細は「プロファイラ使用手引書」-「2.2.2 プロファイル結果の詳細(TEXT形式)、または、2.2.3 プロファイル結果の詳細(XML形式)」を確認してください。</div>
</div>
<ul class="simple">
<li><p>プロファイルデータ計測環境情報</p></li>
<li><p>時間統計情報</p></li>
<li><p>CPU動作状況</p></li>
<li><p>コスト情報(手続コスト分布情報、ループコスト分布情報、行コスト分布情報)</p></li>
<li><p>コールグラフ情報</p></li>
<li><p>ソースコード情報(TEXT形式のみ)</p></li>
</ul>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../../index.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="#">3.1.11.3. 基本プロファイラ</a><ul>
<li><a class="reference internal" href="#id2">3.1.11.3.1. 概要</a></li>
<li><a class="reference internal" href="#id3">3.1.11.3.2. 計測区間指定ルーチンの追加</a></li>
<li><a class="reference internal" href="#id4">3.1.11.3.3. コンパイル／リンク</a><ul>
<li><a class="reference internal" href="#fortran">3.1.11.3.3.1. Fortranの翻訳時オプションについて</a></li>
<li><a class="reference internal" href="#c-c">3.1.11.3.3.2. C/C++の翻訳時オプションについて</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">3.1.11.3.4. プロファイルデータの計測</a></li>
<li><a class="reference internal" href="#id6">3.1.11.3.5. プロファイラのオプション</a></li>
<li><a class="reference internal" href="#id7">3.1.11.3.6. プロファイル結果の出力</a><ul>
<li><a class="reference internal" href="#fipppx">3.1.11.3.6.1. fipppxコマンドのオプション</a></li>
<li><a class="reference internal" href="#id8">3.1.11.3.6.2. プロファイル結果について</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="AdvancedProfiler.html"
                          title="前の章へ"><span class="section-number">3.1.11.2. </span>詳細プロファイラ</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="CPUPerformanceAnalysisReport.html"
                          title="次の章へ"><span class="section-number">3.1.11.4. </span>CPU性能解析レポート</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="CPUPerformanceAnalysisReport.html" title="3.1.11.4. CPU性能解析レポート"
             >次へ</a></li>
        <li class="right" >
          <a href="AdvancedProfiler.html" title="3.1.11.2. 詳細プロファイラ"
             >前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">利用手引書 言語開発環境編  ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../index.html" ><span class="section-number">3. </span>計算ノード向けバイナリを生成するコンパイラ</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../index.html" ><span class="section-number">3.1. </span>富士通コンパイラ</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="index.html" ><span class="section-number">3.1.11. </span>プロファイラ</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.1.11.3. </span>基本プロファイラ</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2026, 理化学研究所計算科学研究センター.
    &nbsp;&nbsp;<a href="https://www.fugaku.r-ccs.riken.jp/">Fugaku website Top</a>
    </div>
  </body>
</html>