グループ情報表示
=================

| 　**[名前]**
| 　groupinfo - グループ情報を表示する

| 　**[書式]**
| 　groupinfo  [-g  グループ名...]  [-g, -l以外のオプション]
| 　groupinfo  -l
| 　※-g, -r, -p, -mの複合指定はAND検索、同一オプション内での複数指定はOR検索になる。

| 　**[説明]**
| 　groupinfo コマンドは、利用者管理ノード上のディレクトリサービス(OpenLDAP)に登録されている課題の情報を表示する。表示結果が複数行に及ぶ場合はディレクトリサービス(OpenLDAP)から取り出された順に表示される。

| 　プロジェクト責任者、システム管理者はグループ情報を表示することができるが、利用者は表示することができない。
 　
| 　オプションを指定しなかった場合は、利用者のプライマリグループの課題情報のみが表示される。ただし、プロジェクト責任者、システム管理者である必要がある。
| 　
| 　ステータスの状態が「削除」以外の課題情報が表示対象になる。

.. list-table:: 
  :header-rows: 1
  :widths: 10 10 50

  * - ステータス
    - 状態
    - 意味

  * - 0
    - 有効
    - システム利用が可能な状態である。

  * - 3
    - 削除
    - システム管理者の判断により論理削除されている状態である。この状態は、システム利用が不可能な状態である。

  * - 5
    - 有効期間外
    - システムの自動判断により有効期間外に設定されている状態である。この状態は、ジョブ投入・実行が不可能な状態である。ただし、猶予期間の場合はシステムへのログインは可能である。


| 　**[オプション]**
| 　-g  グループ名...
| 　グループ名を指定する。スペースに続けて複数指定が可能で、アスタリスクを使用した前方／中間／後方一致指定ができる。
| 　　完全一致指定	group
| 　　前方一致指定	’group \*’
| 　　中間一致指定	’\* group \*’
| 　　後方一致指定	’\* group’

| 　-r  プロジェクト責任者ID...
| 　プロジェクト責任者IDを指定する。スペースに続けて複数指定が可能であるが、アスタリスクを使用した前方／中間／後方一致指定はできない。完全一致指定のみ可能である。
 　
| 　-p  プロジェクト名...
| 　プロジェクト名を指定する。スペースに続けて複数指定が可能で、アスタリスクを使用した前方／中間／後方一致指定ができる。
| 　　完全一致指定	project
| 　　前方一致指定	’project \*’
| 　　中間一致指定	’\* project \*’
| 　　後方一致指定	’\* project’

| 　-m  グループメンバ...
| 　ユーザ名を指定する。スペースに続けて複数指定が可能で、アスタリスクを使用した前方／中間／後方一致指定ができる。
| 　　完全一致指定	user
| 　　前方一致指定	’user\*’
| 　　中間一致指定	’\*user\*’
| 　　後方一致指定	’\*user’
 　
| 　-l
| 　グループ名の一覧を表示する。他オプションとは排他の関係にある。
| 　なお、当該オプション指定時はステータスの状態（「有効」、「削除」、「有効期間外」）に依存せず、すべての課題情報が表示対象になる。
 　
| 　出力形式は
| 　グループ名：グループID
| 　となる。
 　
| 　-d
| 　ディスク容量の制限情報を表示する。
 　
| 　-s
| 　全項目を表示する詳細モードである。-dの同時指定と等価になる。
 　
| 　-c
| 　CSV形式にて標準出力に表示する。ファイルに出力したい場合にはリダイレクトを使用する。
 　
| 　--help
| 　コマンドのヘルプ内容を表示する。

| 　**[復帰値]**
| 　正常時: 0
| 　異常時: 1

| 　**[備考]**
| 　なし。

| 　**[使用例]**
| 　【例1】	グループ名fjseの課題情報を任意のオプションを指定せずに表示する

.. figure:: img/2_UserManagement_09.png

| 　プロジェクト責任者である　fjse0012 とシステム管理者のみグループ情報が表示される。課題に属する利用者はグループ情報を確認することができない。
 　
| 　【例2】	グループ名fjseの課題情報にディスク容量の制限情報を付加して表示する

.. figure:: img/2_UserManagement_10.png

　【例3】	全グループのグループ名、グループIDを一覧表示する

.. code-block:: console 

   [login]$ groupinfo -l
   fjse 1000
   fjce 2000
   [login]$

| 　全てのグループ名、グループIDが一覧表示される。
 　
| 　【例4】	グループ名fjse0100, fjse0101の課題情報をCSV形式で表示する

.. figure:: img/2_UserManagement_11.png

| 　引数としてアスタリスクを使用する際には、シェルが特殊文字として解釈しないように注意する必要がある。
| 　特殊文字として解釈しないように以下を使用する。

- バックスラッシュ( \ )により一文字エスケープ
- シングルクォーテーション( ‘ )で囲む
- ダブルクォーテーション( “ )で囲む

　【例5】	グループ名fjse0100, fjse0101の課題情報をCSV形式でファイル出力する

.. code-block:: console 

   [login]$ groupinfo -g ‘fjse010*’ -c > fjse010X.csv
   [login]$

　【例6】	グループ名fjse0100のシステム利用可否状態を確認する

.. figure:: img/2_UserManagement_12.png

| 　システムの利用可否状態は、 groupinfo コマンドの実行結果中の 'status' 情報により確認できる。
 　
| 　【例7】	グループ情報変更で使用するCSV形式のファイルを作成する

.. code-block:: console

   [login]$ groupinfo -g fjse0100 -s -c > fjse0100.csv
   [login]$

| 　全項目を表示する詳細モードの-sオプションとCSV形式にて標準出力に表示する-cオプションを指定し、リダイレクション機能を使用することでファイルに保存する。-sオプションを指定しないと、ディスク容量制限の情報がNULLで出力されてしまう。

| 　表示項目の説明を示す。

.. figure:: img/2_UserManagement_13.png

.. figure:: img/2_UserManagement_14.png

| 　[\*1] 表示形式：利用希望開始日(YYYYMMDD)-利用希望終了日(YYYYMMDD)

| 　例）20220101-20220331
 　　
| 　　利用希望開始日が2022年1月1日で、利用希望終了日が2022年3月31日となる。

