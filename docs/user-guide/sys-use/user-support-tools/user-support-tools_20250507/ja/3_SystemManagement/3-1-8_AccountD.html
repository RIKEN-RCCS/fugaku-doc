

<!doctype html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
    <link rel="icon" href="/fugaku/docs/img/favicon.ico">

    <title>3.1.8. ユーザ課金情報表示（ディスク） &#8212; 利用者支援ツール 使用手引書 (利用者編)  ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bizstyle.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="../_static/bizstyle.js"></script>
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="3.1.9. ジョブ状態遷移履歴表示" href="3-1-9_JobHistory.html" />
    <link rel="prev" title="3.1.7. ユーザ課金情報表示（ジョブ）" href="3-1-7_AccountJ.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="3-1-9_JobHistory.html" title="3.1.9. ジョブ状態遷移履歴表示"
             accesskey="N">次へ</a></li>
        <li class="right" >
          <a href="3-1-7_AccountJ.html" title="3.1.7. ユーザ課金情報表示（ジョブ）"
             accesskey="P">前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">利用者支援ツール 使用手引書 (利用者編)  ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="3_SystemManagement.html" ><span class="section-number">3. </span>システム管理</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="3-1_CommandExpranation.html" accesskey="U"><span class="section-number">3.1. </span>コマンド解説</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.1.8. </span>ユーザ課金情報表示（ディスク）</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="id1">
<h1><span class="section-number">3.1.8. </span>ユーザ課金情報表示（ディスク）<a class="headerlink" href="#id1" title="この見出しへのパーマリンク">¶</a></h1>
<div class="line-block">
<div class="line">　<strong>[名前]</strong></div>
<div class="line">　accountd - 利用者のディスクに関する課金情報を表示する</div>
</div>
<div class="line-block">
<div class="line">　<strong>[書式]</strong></div>
<div class="line">　accountd  [オプション]</div>
</div>
<div class="line-block">
<div class="line">　<strong>[説明]</strong></div>
<div class="line">　accountd コマンドは、利用者／グループ単位に利用したディスクに関する課金情報を表示する。ディスクに関する課金情報は、ディスクの使用容量として管理されている。利用者に割り当てられたホームディレクトリおよびグループに割り当てられたデータディレクトリのディスク使用率が確認できるため、ソース作成やデータ保存の可否を判断する際にも使用できる。</div>
<div class="line">　システム管理者はシステムに登録されている全メンバのディスク課金情報を表示可能である。ただし、 システム管理機能 に記載されている管理者権限が付与されている必要がある。なお、オプション指定なしの場合はプロジェクト責任者、システム管理者であっても自身のディスク課金情報のみ表示可能である。</div>
<div class="line">　ディスク使用量やinode使用量が制限値を超過した場合は、使用量に <a href="#id2"><span class="problematic" id="id3">*</span></a>（アスタリスク）が付く。</div>
<div class="line">　※accountd_volumeコマンドの提供は終了している。</div>
</div>
<div class="line-block">
<div class="line">　<strong>[オプション]</strong></div>
<div class="line">　-E</div>
<div class="line">　グループ・利用者に割り当てたディレクトリのアクセスパスを表示する。</div>
</div>
<div class="line-block">
<div class="line">　-g  グループ名</div>
<div class="line">　グループ名を指定する。スペースに続けての複数指定、アスタリスクを使用した前方／中間／後方一致指定はできない。単一、完全一致指定のみ可能である。</div>
</div>
<div class="line-block">
<div class="line">　-m</div>
<div class="line">　グループに所属するユーザのディスク使用量を表示する。</div>
<div class="line">　-mオプション指定時は-gオプションでグループ名の指定が必須となる。</div>
<div class="line">　データ収集周期は約3週間ほどである。システムの負荷状況等で収集周期が変動する可能性がある。</div>
</div>
<div class="line-block">
<div class="line">　-s</div>
<div class="line">　ディスク使用量の表示単位がデフォルトのギビバイト[GiB]からキビバイト[KiB]になる。</div>
</div>
<div class="line-block">
<div class="line">　-c</div>
<div class="line">　検索結果をCSV形式で標準出力する。リダイレクション機能を使用することでファイルに保存することもできる。</div>
</div>
<div class="line-block">
<div class="line">　-f  ファイルシステム名</div>
<div class="line">　ファイルシステム名を指定する。表示対象にしたいマウントポイントを指定する。 <a href="#id4"><span class="problematic" id="id5">*</span></a>（アスタリスク）を使用した前方一致指定ができる。</div>
<div class="line">　　完全一致指定      /vol0301</div>
<div class="line">　　前方一致指定      ‘/vol03*’</div>
</div>
<div class="line-block">
<div class="line">　-h</div>
<div class="line">　全てのVOLUMEを表示する。このオプションがない場合は、ディスク制限の割り当てがあるVOLUMEのみ表示する。</div>
</div>
<div class="line-block">
<div class="line">　-i</div>
<div class="line">　inode使用量を表示する。</div>
</div>
<div class="line-block">
<div class="line">　--help</div>
<div class="line">　コマンドのヘルプ内容を表示する。</div>
</div>
<div class="line-block">
<div class="line">　<strong>[復帰値]</strong></div>
<div class="line">　正常時: 0</div>
<div class="line">　異常時: 1</div>
</div>
<div class="line-block">
<div class="line">　<strong>[備考]</strong></div>
<div class="line">　なし。</div>
</div>
<div class="line-block">
<div class="line">　<strong>[使用例]</strong></div>
<div class="line">　【例1】 グループ・利用者に割り当てたdata,share,home領域の使用状況を確認する。</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[login]$ </span>accountd
<span class="go">   COLLECTDATE : 2022/04/01 10:10:10    unit[GiB]</span>
<span class="go">USER : t00040</span>
<span class="go">*--------------------------------------------------[GROUP]-----------------------------------------------------*</span>
<span class="go">GROUP           VOLUME                    LIMIT            USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">group302        vol0301                 5120000          2560000           2560000          300000     50.0%</span>
<span class="go">*--------------------------------------------------[GROUP]-----------------------------------------------------*</span>
<span class="go">GROUP           VOLUME                    LIMIT            USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">group302        vol0400                 5120000          2560000           2560000          300000     50.0%</span>
<span class="go">*--------------------------------------------------[USER]------------------------------------------------------*</span>
<span class="go">USER            VOLUME                    LIMIT            USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">t00040          vol0400                       0                1                 0              55      3.1%</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">　グループ・利用者に割り当てられているディスクの使用状況が確認できる。ディスク使用量の表示単位はデフォルトでギビバイト[GiB]になる。表示単位をキビバイト[KiB]に変更したい場合には -sオプションを指定する。なお、単位の切り替えは1KiB(1,024B)で計算される。単位切り替えによる端数は制限値(LIMIT)が小数点以下切り捨て、使用量(USAGE)が小数点以下切り上げて表示される。使用可能残量(AVAILABLE)は、制限値(LIMIT)から使用量(USAGE)を差し引いた値としている。使用率(USAGE_RATE)は小数点以下第2位で四捨五入としている。</div>
<div class="line">　なお、グループ・利用者に割り当てられていないホーム・データ領域は、使用不可の意味合いでLIMITおよびAVAILABLEが-（ハイフン）で表示される。また、グループ・利用者に割り当てられているホーム・データ領域でも、グループの実施期間終了に伴う終了課題は、LIMITおよびAVAILABLEが-（ハイフン）で表示されることがある。</div>
</div>
<div class="line-block">
<div class="line">　【例2】 グループ・利用者に割り当てたディレクトリのアクセスパスを表示する</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[login]$ </span>accountd<span class="w"> </span>-E
<span class="go">   COLLECTDATE : 2022/04/01 10:10:10    unit[GiB]</span>
<span class="go">USER : t00040</span>
<span class="go">*--------------------------------------------------[GROUP]-----------------------------------------------------*</span>
<span class="go">GROUP           VOLUME                     LIMIT            USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">group302        vol0301                  5120000          2560000           2560000          300000     50.0%</span>
<span class="go">  /vol0200/data/group301</span>
<span class="go">*--------------------------------------------------[GROUP]-----------------------------------------------------*</span>
<span class="go">GROUP           VOLUME                     LIMIT            USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">group302        vol0400                  5120000          2560000           2560000          300000     50.0%</span>
<span class="go">  /vol0401/data/group302</span>
<span class="go">*--------------------------------------------------[USER]------------------------------------------------------*</span>
<span class="go">USER            VOLUME                     LIMIT            USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">t00040          vol0400                        0                1                 0              55      3.1%</span>
<span class="go">  /vol0401/fugaku/t00040</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">　【例3】 システム管理者がすべてのグループのディスクに関する課金情報を表示する</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[login]$ </span>accountd<span class="w"> </span>-a
<span class="go">COLLECTDATE : 2022/02/21 18:13:59    unit[GiB]</span>
<span class="go">*--------------------------------------------------[GROUP]-----------------------------------------------------*</span>
<span class="go">GROUP           VOLUME                       LIMIT             USAGE         AVAILABLE           FILES  USE_RATE</span>
<span class="go">group301        vol0300                     5120000          2560000           2560000          300000     50.0%</span>
<span class="go">group302        vol0401                     5120000          2560000           2560000          300000     50.0%</span>
<span class="gp">[login]$</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">　すべてのグループに割り当てられているディスクの使用状況が確認できる。グループ名をキーとして昇順に表示される。</div>
</div>
<div class="line-block">
<div class="line">　【例4】 システム管理者がすべてのグループのジョブに関する課金情報をCSV形式で表示する</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[login]$ </span>accountd<span class="w"> </span>-a<span class="w"> </span>-c
<span class="go">INFO_H,COLLECT_DATE</span>
<span class="go">&quot;INFO&quot;,&quot;2021/04/01 01:23:45&quot;</span>
<span class="go">GROUP_H,GROUP,VOLUME,LIMIT,USAGE,AVAILABLE,FILES,USAGE_RATE</span>
<span class="go">&quot;GROUP&quot;,&quot;group1&quot;,&quot;/vol0300&quot;,&quot;5120000&quot;,&quot;2560000&quot;,&quot;2560000&quot;,&quot;300000&quot;,&quot;0.500&quot;</span>
<span class="go">&quot;GROUP&quot;,&quot;group2&quot;,&quot;/vol0300&quot;,&quot;5120000&quot;,&quot;2560000&quot;,&quot;2560000&quot;,&quot;300000&quot;,&quot;0.500&quot;</span>
<span class="go">&quot;GROUP&quot;,&quot;group3&quot;,&quot;/vol0300&quot;,&quot;5120000&quot;,&quot;2560000&quot;,&quot;2560000&quot;,&quot;300000&quot;,&quot;0.500&quot;</span>
<span class="go">&quot;GROUP&quot;,&quot;group4&quot;,&quot;/vol0600&quot;,&quot;2000000&quot;,&quot;1000000&quot;,&quot;1000000&quot;,&quot;150000&quot;,&quot;0.500&quot;</span>
<span class="gp">[login]$</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">　USAGE_RATEの表示は、ディスクに関する制限が設定されている、もしくは設定されていない（LIMITがunlimitedになっている）のであれば-（ハイフン）で表示される。CSV形式ではない【例1】の場合も同様である。</div>
</div>
<div class="line-block">
<div class="line">　【例5】 グループに所属するユーザのディスク使用量を表示する</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[login]$ </span>accountd<span class="w"> </span>-g<span class="w"> </span>group304<span class="w"> </span>-m
<span class="go">COLLECTDATE : 2023/01/18 12:34:56    unit[GiB]</span>
<span class="go">*-------------------------------[USER]-------------------------------*</span>
<span class="go">VOLUME          USER                       FILES             USAGE</span>
<span class="go">vol0300         u10001                64,786,325           310,433</span>
<span class="go">vol0300         u10002                53,095,673           300,886</span>
<span class="go">vol0300         u10003                        39                 4</span>
<span class="go">vol0300         u10004                         1                 0</span>
<span class="go">vol0501         u10001                64,786,325           310,433</span>
<span class="go">vol0501         u10002                53,095,673           300,886</span>
<span class="go">vol0501         u10003                        39                 4</span>
<span class="go">vol0501         u10004                         1                 0</span>
<span class="gp">[login]$</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">　-mオプションの結果は定期的に収集したデータを使用する。</div>
<div class="line">　COLLECTDATEはaccountdの実行日時とは異なり、各VOLUMEのデータ収集日時の最初の日時となる。</div>
</div>
<div class="line-block">
<div class="line">　【例6】 グループに所属するユーザのディスク使用量をCSV形式で表示する</div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">[login]$ </span>accountd<span class="w"> </span>-g<span class="w"> </span>group304<span class="w"> </span>-m<span class="w"> </span>-c
<span class="go">INFO_H,COLLECT_DATE</span>
<span class="go">&quot;INFO&quot;,&quot;2023/01/18 12:34:56&quot;</span>
<span class="go">USER_H,VOLUME,USER,FILES,USAGE</span>
<span class="go">&quot;USER&quot;,&quot;vol0300&quot;,&quot;u10001&quot;,&quot;64786325&quot;,&quot;310433&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0300&quot;,&quot;u10002&quot;,&quot;53095673&quot;,&quot;300886&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0300&quot;,&quot;u10003&quot;,&quot;39&quot;,&quot;4&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0300&quot;,&quot;u10004&quot;,&quot;1&quot;,&quot;0&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0501&quot;,&quot;u10001&quot;,&quot;64786325&quot;,&quot;310433&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0501&quot;,&quot;u10002&quot;,&quot;53095673&quot;,&quot;300886&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0501&quot;,&quot;u10003&quot;,&quot;39&quot;,&quot;4&quot;</span>
<span class="go">&quot;USER&quot;,&quot;vol0501&quot;,&quot;u10004&quot;,&quot;1&quot;,&quot;0&quot;</span>
<span class="gp">[login]$</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">　表示項目の説明を示する。</div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 20.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>No</p></th>
<th class="head"><p>項目名</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>COLLECT DATE</p></td>
<td><p>データ収集日時</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>USER</p></td>
<td><p>ユーザ名</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>GROUP</p></td>
<td><p>グループ名</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>VOLUME</p></td>
<td><div class="line-block">
<div class="line">先頭の２桁はVOLUMEを、後の２桁はMDT番号を表しています。</div>
<div class="line">　【例】vol0401</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>LIMIT</p></td>
<td><div class="line-block">
<div class="line">制限値</div>
<div class="line">　情報の単位は表示単位に従う。</div>
<div class="line">unit[表示単位]</div>
<div class="line"><br /></div>
<div class="line">　　＜表示単位＞</div>
<div class="line">　　　unit[GiB]　デフォルトはギビバイト表示</div>
<div class="line">　　　unit[KiB]　 -sオプション指定時はキビバイト表示</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>USAGE</p></td>
<td><div class="line-block">
<div class="line">ディスクの使用量</div>
<div class="line">　情報の単位は表示単位に従う。</div>
<div class="line">unit[表示単位]</div>
<div class="line"><br /></div>
<div class="line">　　＜表示単位＞</div>
<div class="line">　　　unit[GiB]　デフォルトはギビバイト表示</div>
<div class="line">　　　unit[KiB]　 -sオプション指定時はキビバイト表示</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>AVAILABLE</p></td>
<td><div class="line-block">
<div class="line">ディスクの使用可能残量</div>
<div class="line">　情報の単位は表示単位に従う。</div>
<div class="line">unit[表示単位]</div>
<div class="line"><br /></div>
<div class="line">　　＜表示単位＞</div>
<div class="line">　　　unit[GiB]　デフォルトはギビバイト表示</div>
<div class="line">　　　unit[KiB]　 -sオプション指定時はキビバイト表示</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>FILES</p></td>
<td><div class="line-block">
<div class="line">ファイルシステムに作成されているファイル数</div>
<div class="line">　1 ファイルを 1 個とカウントする</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>USAGE RATE</p></td>
<td><div class="line-block">
<div class="line">制限値に対するディスクの使用率</div>
<div class="line">　小数点以下第2位で四捨五入</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>[GROUP]</p></td>
<td><p>グループに関する情報表示</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>[USER]</p></td>
<td><p>ユーザに関する情報表示</p></td>
</tr>
</tbody>
</table>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="3-1-7_AccountJ.html"
                          title="前の章へ"><span class="section-number">3.1.7. </span>ユーザ課金情報表示（ジョブ）</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="3-1-9_JobHistory.html"
                          title="次の章へ"><span class="section-number">3.1.9. </span>ジョブ状態遷移履歴表示</a></p>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="3-1-9_JobHistory.html" title="3.1.9. ジョブ状態遷移履歴表示"
             >次へ</a></li>
        <li class="right" >
          <a href="3-1-7_AccountJ.html" title="3.1.7. ユーザ課金情報表示（ジョブ）"
             >前へ</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">利用者支援ツール 使用手引書 (利用者編)  ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="3_SystemManagement.html" ><span class="section-number">3. </span>システム管理</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="3-1_CommandExpranation.html" ><span class="section-number">3.1. </span>コマンド解説</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">3.1.8. </span>ユーザ課金情報表示（ディスク）</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, 理化学研究所計算科学研究センター.
    &nbsp;&nbsp;<a href="https://www.fugaku.r-ccs.riken.jp/">Fugaku Portal Top</a>
    </div>
  </body>
</html>